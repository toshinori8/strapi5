"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze";
exports.ids = ["vendor-chunks/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addFieldStatePromise: () => (/* binding */ addFieldStatePromise)\n/* harmony export */ });\n/* harmony import */ var bson_objectid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson-objectid */ \"(rsc)/./node_modules/.pnpm/bson-objectid@2.0.4/node_modules/bson-objectid/objectid.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/utilities/deepCopyObject.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/getFieldPaths.js\");\n/* harmony import */ var _getFilterOptionsQuery_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getFilterOptionsQuery.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/getFilterOptionsQuery.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\");\n\n\n\n\nconst ObjectId = bson_objectid__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || bson_objectid__WEBPACK_IMPORTED_MODULE_0__;\n/**\n * Flattens the fields schema and fields data.\n * The output is the field path (e.g. array.0.name) mapped to a FormField object.\n */\nconst addFieldStatePromise = async args => {\n  const {\n    id,\n    addErrorPathToParent: addErrorPathToParentArg,\n    anyParentLocalized = false,\n    blockData,\n    clientFieldSchemaMap,\n    collectionSlug,\n    data,\n    field,\n    fieldSchemaMap,\n    filter,\n    forceFullValue = false,\n    fullData,\n    includeSchema = false,\n    indexPath,\n    omitParents = false,\n    operation,\n    parentPath,\n    parentPermissions,\n    parentSchemaPath,\n    passesCondition,\n    path,\n    preferences,\n    previousFormState,\n    renderAllFields,\n    renderFieldFn,\n    req,\n    schemaPath,\n    skipConditionChecks = false,\n    skipValidation = false,\n    state\n  } = args;\n  if (!args.clientFieldSchemaMap && args.renderFieldFn) {\n    console.warn('clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance');\n  }\n  const requiresRender = renderAllFields || previousFormState?.[path]?.requiresRender;\n  let fieldPermissions = true;\n  const fieldState = {};\n  if (passesCondition === false) {\n    fieldState.passesCondition = false;\n  }\n  if (includeSchema) {\n    fieldState.fieldSchema = field;\n  }\n  if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsHiddenOrDisabled)(field)) {\n    fieldPermissions = parentPermissions === true ? parentPermissions : (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.deepCopyObjectSimple)(parentPermissions?.[field.name]);\n    let hasPermission = fieldPermissions === true || (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.deepCopyObjectSimple)(fieldPermissions?.read);\n    if (typeof field?.access?.read === 'function') {\n      hasPermission = await field.access.read({\n        id,\n        blockData,\n        data: fullData,\n        req,\n        siblingData: data\n      });\n    } else {\n      hasPermission = true;\n    }\n    if (!hasPermission) {\n      return;\n    }\n    const validate = field.validate;\n    let validationResult = true;\n    if (typeof validate === 'function' && !skipValidation && passesCondition) {\n      let jsonError;\n      if (field.type === 'json' && typeof data[field.name] === 'string') {\n        try {\n          JSON.parse(data[field.name]);\n        } catch (e) {\n          jsonError = e;\n        }\n      }\n      try {\n        validationResult = await validate(data?.[field.name], {\n          ...field,\n          id,\n          blockData,\n          collectionSlug,\n          data: fullData,\n          event: 'onChange',\n          // @AlessioGr added `jsonError` in https://github.com/payloadcms/payload/commit/c7ea62a39473408c3ea912c4fbf73e11be4b538d\n          // @ts-expect-error-next-line\n          jsonError,\n          operation,\n          preferences,\n          previousValue: previousFormState?.[path]?.initialValue,\n          req,\n          siblingData: data\n        });\n      } catch (err) {\n        validationResult = `Error validating field at path: ${path}`;\n        req.payload.logger.error({\n          err,\n          msg: validationResult\n        });\n      }\n    }\n    const addErrorPathToParent = errorPath => {\n      if (typeof addErrorPathToParentArg === 'function') {\n        addErrorPathToParentArg(errorPath);\n      }\n      if (!fieldState.errorPaths) {\n        fieldState.errorPaths = [];\n      }\n      if (!fieldState.errorPaths.includes(errorPath)) {\n        fieldState.errorPaths.push(errorPath);\n        fieldState.valid = false;\n      }\n    };\n    if (typeof validationResult === 'string') {\n      fieldState.errorMessage = validationResult;\n      fieldState.valid = false;\n      addErrorPathToParent(path);\n    }\n    switch (field.type) {\n      case 'array':\n        {\n          const arrayValue = Array.isArray(data[field.name]) ? data[field.name] : [];\n          const {\n            promises,\n            rows\n          } = arrayValue.reduce((acc, row, i) => {\n            const parentPath = path + '.' + i;\n            row.id = row?.id || new ObjectId().toHexString();\n            if (!omitParents && (!filter || filter(args))) {\n              const idKey = parentPath + '.id';\n              state[idKey] = {\n                initialValue: row.id,\n                value: row.id\n              };\n              if (includeSchema) {\n                state[idKey].fieldSchema = field.fields.find(field => (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsID)(field));\n              }\n            }\n            acc.promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n              id,\n              addErrorPathToParent,\n              anyParentLocalized: field.localized || anyParentLocalized,\n              blockData,\n              clientFieldSchemaMap,\n              collectionSlug,\n              data: row,\n              fields: field.fields,\n              fieldSchemaMap,\n              filter,\n              forceFullValue,\n              fullData,\n              includeSchema,\n              omitParents,\n              operation,\n              parentIndexPath: '',\n              parentPassesCondition: passesCondition,\n              parentPath,\n              parentSchemaPath: schemaPath,\n              permissions: fieldPermissions === true ? fieldPermissions : fieldPermissions?.fields || {},\n              preferences,\n              previousFormState,\n              renderAllFields: requiresRender,\n              renderFieldFn,\n              req,\n              skipConditionChecks,\n              skipValidation,\n              state\n            }));\n            if (!acc.rows) {\n              acc.rows = [];\n            }\n            acc.rows.push({\n              id: row.id\n            });\n            const previousRows = previousFormState?.[path]?.rows || [];\n            const collapsedRowIDsFromPrefs = preferences?.fields?.[path]?.collapsed;\n            const collapsed = (() => {\n              // First, check if `previousFormState` has a matching row\n              const previousRow = previousRows.find(prevRow => prevRow.id === row.id);\n              if (previousRow) {\n                return previousRow.collapsed ?? false;\n              }\n              // If previousFormState is undefined, check preferences\n              if (collapsedRowIDsFromPrefs !== undefined) {\n                return collapsedRowIDsFromPrefs.includes(row.id) // Check if collapsed in preferences\n                ;\n              }\n              // If neither exists, fallback to `field.admin.initCollapsed`\n              return field.admin.initCollapsed;\n            })();\n            if (collapsed) {\n              acc.rows[acc.rows.length - 1].collapsed = collapsed;\n            }\n            return acc;\n          }, {\n            promises: [],\n            rows: undefined\n          });\n          // Wait for all promises and update fields with the results\n          await Promise.all(promises);\n          if (rows) {\n            fieldState.rows = rows;\n          }\n          // Unset requiresRender\n          // so it will be removed from form state\n          fieldState.requiresRender = false;\n          // Add values to field state\n          if (data[field.name] !== null) {\n            fieldState.value = forceFullValue ? arrayValue : arrayValue.length;\n            fieldState.initialValue = forceFullValue ? arrayValue : arrayValue.length;\n            if (arrayValue.length > 0) {\n              fieldState.disableFormData = true;\n            }\n          }\n          // Add field to state\n          if (!omitParents && (!filter || filter(args))) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'blocks':\n        {\n          const blocksValue = Array.isArray(data[field.name]) ? data[field.name] : [];\n          const {\n            promises,\n            rowMetadata\n          } = blocksValue.reduce((acc, row, i) => {\n            const block = field.blocks.find(blockType => blockType.slug === row.blockType);\n            if (!block) {\n              throw new Error(`Block with type \"${row.blockType}\" was found in block data, but no block with that type is defined in the config for field with schema path ${schemaPath}.`);\n            }\n            const parentPath = path + '.' + i;\n            if (block) {\n              row.id = row?.id || new ObjectId().toHexString();\n              if (!omitParents && (!filter || filter(args))) {\n                // Handle block `id` field\n                const idKey = parentPath + '.id';\n                state[idKey] = {\n                  initialValue: row.id,\n                  value: row.id\n                };\n                if (includeSchema) {\n                  state[idKey].fieldSchema = includeSchema ? block.fields.find(blockField => (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsID)(blockField)) : undefined;\n                }\n                // Handle `blockType` field\n                const fieldKey = parentPath + '.blockType';\n                state[fieldKey] = {\n                  initialValue: row.blockType,\n                  value: row.blockType\n                };\n                if (includeSchema) {\n                  state[fieldKey].fieldSchema = block.fields.find(blockField => 'name' in blockField && blockField.name === 'blockType');\n                }\n                // Handle `blockName` field\n                const blockNameKey = parentPath + '.blockName';\n                state[blockNameKey] = {};\n                if (row.blockName) {\n                  state[blockNameKey].initialValue = row.blockName;\n                  state[blockNameKey].value = row.blockName;\n                }\n                if (includeSchema) {\n                  state[blockNameKey].fieldSchema = block.fields.find(blockField => 'name' in blockField && blockField.name === 'blockName');\n                }\n              }\n              acc.promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n                id,\n                addErrorPathToParent,\n                anyParentLocalized: field.localized || anyParentLocalized,\n                blockData: row,\n                clientFieldSchemaMap,\n                collectionSlug,\n                data: row,\n                fields: block.fields,\n                fieldSchemaMap,\n                filter,\n                forceFullValue,\n                fullData,\n                includeSchema,\n                omitParents,\n                operation,\n                parentIndexPath: '',\n                parentPassesCondition: passesCondition,\n                parentPath,\n                parentSchemaPath: schemaPath + '.' + block.slug,\n                permissions: fieldPermissions === true ? fieldPermissions : parentPermissions?.[field.name]?.blocks?.[block.slug] === true ? true : parentPermissions?.[field.name]?.blocks?.[block.slug]?.fields || {},\n                preferences,\n                previousFormState,\n                renderAllFields: requiresRender,\n                renderFieldFn,\n                req,\n                skipConditionChecks,\n                skipValidation,\n                state\n              }));\n              acc.rowMetadata.push({\n                id: row.id,\n                blockType: row.blockType\n              });\n              const collapsedRowIDs = preferences?.fields?.[path]?.collapsed;\n              const collapsed = collapsedRowIDs === undefined ? field.admin.initCollapsed : collapsedRowIDs.includes(row.id);\n              if (collapsed) {\n                acc.rowMetadata[acc.rowMetadata.length - 1].collapsed = collapsed;\n              }\n            }\n            return acc;\n          }, {\n            promises: [],\n            rowMetadata: []\n          });\n          await Promise.all(promises);\n          // Add values to field state\n          if (data[field.name] === null) {\n            fieldState.value = null;\n            fieldState.initialValue = null;\n          } else {\n            fieldState.value = forceFullValue ? blocksValue : blocksValue.length;\n            fieldState.initialValue = forceFullValue ? blocksValue : blocksValue.length;\n            if (blocksValue.length > 0) {\n              fieldState.disableFormData = true;\n            }\n          }\n          fieldState.rows = rowMetadata;\n          // Unset requiresRender\n          // so it will be removed from form state\n          fieldState.requiresRender = false;\n          // Add field to state\n          if (!omitParents && (!filter || filter(args))) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'group':\n        {\n          if (!filter || filter(args)) {\n            fieldState.disableFormData = true;\n            state[path] = fieldState;\n          }\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n            id,\n            addErrorPathToParent,\n            anyParentLocalized: field.localized || anyParentLocalized,\n            blockData,\n            clientFieldSchemaMap,\n            collectionSlug,\n            data: data?.[field.name] || {},\n            fields: field.fields,\n            fieldSchemaMap,\n            filter,\n            forceFullValue,\n            fullData,\n            includeSchema,\n            omitParents,\n            operation,\n            parentIndexPath: '',\n            parentPassesCondition: passesCondition,\n            parentPath: path,\n            parentSchemaPath: schemaPath,\n            permissions: typeof fieldPermissions === 'boolean' ? fieldPermissions : fieldPermissions?.fields,\n            preferences,\n            previousFormState,\n            renderAllFields,\n            renderFieldFn,\n            req,\n            skipConditionChecks,\n            skipValidation,\n            state\n          });\n          break;\n        }\n      case 'relationship':\n      case 'upload':\n        {\n          if (field.filterOptions) {\n            if (typeof field.filterOptions === 'object') {\n              if (typeof field.relationTo === 'string') {\n                fieldState.filterOptions = {\n                  [field.relationTo]: field.filterOptions\n                };\n              } else {\n                fieldState.filterOptions = field.relationTo.reduce((acc, relation) => {\n                  acc[relation] = field.filterOptions;\n                  return acc;\n                }, {});\n              }\n            }\n            if (typeof field.filterOptions === 'function') {\n              const query = await (0,_getFilterOptionsQuery_js__WEBPACK_IMPORTED_MODULE_4__.getFilterOptionsQuery)(field.filterOptions, {\n                id,\n                blockData,\n                data: fullData,\n                relationTo: field.relationTo,\n                req,\n                siblingData: data,\n                user: req.user\n              });\n              fieldState.filterOptions = query;\n            }\n          }\n          if (field.hasMany) {\n            const relationshipValue = Array.isArray(data[field.name]) ? data[field.name].map(relationship => {\n              if (Array.isArray(field.relationTo)) {\n                return {\n                  relationTo: relationship.relationTo,\n                  value: relationship.value && typeof relationship.value === 'object' ? relationship.value?.id : relationship.value\n                };\n              }\n              if (typeof relationship === 'object' && relationship !== null) {\n                return relationship.id;\n              }\n              return relationship;\n            }) : undefined;\n            fieldState.value = relationshipValue;\n            fieldState.initialValue = relationshipValue;\n          } else if (Array.isArray(field.relationTo)) {\n            if (data[field.name] && typeof data[field.name] === 'object' && 'relationTo' in data[field.name] && 'value' in data[field.name]) {\n              const value = typeof data[field.name]?.value === 'object' && data[field.name]?.value && 'id' in data[field.name].value ? data[field.name].value.id : data[field.name].value;\n              const relationshipValue = {\n                relationTo: data[field.name]?.relationTo,\n                value\n              };\n              fieldState.value = relationshipValue;\n              fieldState.initialValue = relationshipValue;\n            }\n          } else {\n            const relationshipValue = data[field.name] && typeof data[field.name] === 'object' && 'id' in data[field.name] ? data[field.name].id : data[field.name];\n            fieldState.value = relationshipValue;\n            fieldState.initialValue = relationshipValue;\n          }\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      default:\n        {\n          if (data[field.name] !== undefined) {\n            fieldState.value = data[field.name];\n            fieldState.initialValue = data[field.name];\n          }\n          // Add field to state\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n    }\n  } else if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldHasSubFields)(field) && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n    // Handle field types that do not use names (row, etc)\n    if (!filter || filter(args)) {\n      state[path] = {\n        disableFormData: true\n      };\n      if (passesCondition === false) {\n        state[path].passesCondition = false;\n      }\n    }\n    await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n      id,\n      // passthrough parent functionality\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized: (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsLocalized)(field) || anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      fields: field.fields,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      omitParents,\n      operation,\n      parentIndexPath: indexPath,\n      parentPassesCondition: passesCondition,\n      parentPath,\n      parentSchemaPath,\n      permissions: parentPermissions,\n      preferences,\n      previousFormState,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      skipConditionChecks,\n      skipValidation,\n      state\n    });\n  } else if (field.type === 'tabs') {\n    const promises = field.tabs.map((tab, tabIndex) => {\n      const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab);\n      const {\n        indexPath: tabIndexPath,\n        path: tabPath,\n        schemaPath: tabSchemaPath\n      } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_5__.getFieldPaths)({\n        field: {\n          ...tab,\n          type: 'tab'\n        },\n        index: tabIndex,\n        parentIndexPath: indexPath,\n        parentPath,\n        parentSchemaPath\n      });\n      let childPermissions = undefined;\n      if (isNamedTab) {\n        if (parentPermissions === true) {\n          childPermissions = true;\n        } else {\n          const tabPermissions = parentPermissions?.[tab.name];\n          if (tabPermissions === true) {\n            childPermissions = true;\n          } else {\n            childPermissions = tabPermissions?.fields;\n          }\n        }\n      } else {\n        childPermissions = parentPermissions;\n      }\n      return (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n        id,\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized: tab.localized || anyParentLocalized,\n        blockData,\n        clientFieldSchemaMap,\n        collectionSlug,\n        data: isNamedTab ? data?.[tab.name] || {} : data,\n        fields: tab.fields,\n        fieldSchemaMap,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        omitParents,\n        operation,\n        parentIndexPath: isNamedTab ? '' : tabIndexPath,\n        parentPassesCondition: passesCondition,\n        parentPath: isNamedTab ? tabPath : parentPath,\n        parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n        permissions: childPermissions,\n        preferences,\n        previousFormState,\n        renderAllFields,\n        renderFieldFn,\n        req,\n        skipConditionChecks,\n        skipValidation,\n        state\n      });\n    });\n    await Promise.all(promises);\n  } else if (field.type === 'ui') {\n    if (!filter || filter(args)) {\n      state[path] = fieldState;\n      state[path].disableFormData = true;\n    }\n  }\n  if (requiresRender && renderFieldFn && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsHiddenOrDisabled)(field)) {\n    const fieldState = state[path];\n    const fieldConfig = fieldSchemaMap.get(schemaPath);\n    if (!fieldConfig) {\n      if (schemaPath.endsWith('.blockType')) {\n        return;\n      } else {\n        throw new Error(`Field config not found for ${schemaPath}`);\n      }\n    }\n    if (!fieldState) {\n      // Some fields (ie `Tab`) do not live in form state\n      // therefore we cannot attach customComponents to them\n      return;\n    }\n    renderFieldFn({\n      id,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: fullData,\n      fieldConfig: fieldConfig,\n      fieldSchemaMap,\n      fieldState,\n      formState: state,\n      indexPath,\n      operation,\n      parentPath,\n      parentSchemaPath,\n      path,\n      permissions: fieldPermissions,\n      preferences,\n      previousFieldState: previousFormState?.[path],\n      req,\n      schemaPath,\n      siblingData: data\n    });\n  }\n};\n//# sourceMappingURL=addFieldStatePromise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2FkZEZpZWxkU3RhdGVQcm9taXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkM7QUFDaUk7QUFDekc7QUFDaEI7QUFDbkQsaUJBQWlCLHFEQUFzQixJQUFJLDBDQUFjO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdFQUFnQixZQUFZLHVFQUF1QjtBQUN6RCx3RUFBd0Usb0VBQW9CO0FBQzVGLHFEQUFxRCxvRUFBb0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1IsOERBQThELEtBQUs7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLHlEQUFTO0FBQy9FO0FBQ0E7QUFDQSw4QkFBOEIsZ0VBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBd0c7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxrREFBa0QsY0FBYyw2R0FBNkcsV0FBVztBQUN4TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYseURBQVM7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdU5BQXVOO0FBQ3ZOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdGQUFxQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsaUVBQWlCLFlBQVksZ0VBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0VBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSx5QkFBeUIsMERBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEVBQUUsNkRBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLGFBQWEsZ0VBQWE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1RUFBdUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixzREFBc0QsV0FBVztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvdG9zaC9Eb2N1bWVudHMvUGxhdGZvcm1JTy9Qcm9qZWN0cy9zdHJhcGk1L25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcyt1aUAzLjIzLjBfQHR5cGVzK3JlYWN0QDE5LjAuN19tb25hY28tZWRpdG9yQDAuNTIuMl9uZXh0QDE1LjEuNV9yZWFjdC1kb21AMTkuMC4wX3JfZGpvYnloZXJzN200dGo2Z3Z0cjd3dHBremUvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL3VpL2Rpc3QvZm9ybXMvZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGUvYWRkRmllbGRTdGF0ZVByb21pc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9iamVjdElkSW1wb3J0IGZyb20gJ2Jzb24tb2JqZWN0aWQnO1xuaW1wb3J0IHsgZGVlcENvcHlPYmplY3RTaW1wbGUsIGZpZWxkQWZmZWN0c0RhdGEsIGZpZWxkSGFzU3ViRmllbGRzLCBmaWVsZElzSGlkZGVuT3JEaXNhYmxlZCwgZmllbGRJc0lELCBmaWVsZElzTG9jYWxpemVkLCBnZXRGaWVsZFBhdGhzLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgZ2V0RmlsdGVyT3B0aW9uc1F1ZXJ5IH0gZnJvbSAnLi9nZXRGaWx0ZXJPcHRpb25zUXVlcnkuanMnO1xuaW1wb3J0IHsgaXRlcmF0ZUZpZWxkcyB9IGZyb20gJy4vaXRlcmF0ZUZpZWxkcy5qcyc7XG5jb25zdCBPYmplY3RJZCA9IE9iamVjdElkSW1wb3J0LmRlZmF1bHQgfHwgT2JqZWN0SWRJbXBvcnQ7XG4vKipcbiAqIEZsYXR0ZW5zIHRoZSBmaWVsZHMgc2NoZW1hIGFuZCBmaWVsZHMgZGF0YS5cbiAqIFRoZSBvdXRwdXQgaXMgdGhlIGZpZWxkIHBhdGggKGUuZy4gYXJyYXkuMC5uYW1lKSBtYXBwZWQgdG8gYSBGb3JtRmllbGQgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgYWRkRmllbGRTdGF0ZVByb21pc2UgPSBhc3luYyBhcmdzID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGFkZEVycm9yUGF0aFRvUGFyZW50OiBhZGRFcnJvclBhdGhUb1BhcmVudEFyZyxcbiAgICBhbnlQYXJlbnRMb2NhbGl6ZWQgPSBmYWxzZSxcbiAgICBibG9ja0RhdGEsXG4gICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgY29sbGVjdGlvblNsdWcsXG4gICAgZGF0YSxcbiAgICBmaWVsZCxcbiAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICBmaWx0ZXIsXG4gICAgZm9yY2VGdWxsVmFsdWUgPSBmYWxzZSxcbiAgICBmdWxsRGF0YSxcbiAgICBpbmNsdWRlU2NoZW1hID0gZmFsc2UsXG4gICAgaW5kZXhQYXRoLFxuICAgIG9taXRQYXJlbnRzID0gZmFsc2UsXG4gICAgb3BlcmF0aW9uLFxuICAgIHBhcmVudFBhdGgsXG4gICAgcGFyZW50UGVybWlzc2lvbnMsXG4gICAgcGFyZW50U2NoZW1hUGF0aCxcbiAgICBwYXNzZXNDb25kaXRpb24sXG4gICAgcGF0aCxcbiAgICBwcmVmZXJlbmNlcyxcbiAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgcmVuZGVyRmllbGRGbixcbiAgICByZXEsXG4gICAgc2NoZW1hUGF0aCxcbiAgICBza2lwQ29uZGl0aW9uQ2hlY2tzID0gZmFsc2UsXG4gICAgc2tpcFZhbGlkYXRpb24gPSBmYWxzZSxcbiAgICBzdGF0ZVxuICB9ID0gYXJncztcbiAgaWYgKCFhcmdzLmNsaWVudEZpZWxkU2NoZW1hTWFwICYmIGFyZ3MucmVuZGVyRmllbGRGbikge1xuICAgIGNvbnNvbGUud2FybignY2xpZW50RmllbGRTY2hlbWFNYXAgaXMgbm90IHBhc3NlZCB0byBhZGRGaWVsZFN0YXRlUHJvbWlzZSAtIHRoaXMgd2lsbCByZWR1Y2UgcGVyZm9ybWFuY2UnKTtcbiAgfVxuICBjb25zdCByZXF1aXJlc1JlbmRlciA9IHJlbmRlckFsbEZpZWxkcyB8fCBwcmV2aW91c0Zvcm1TdGF0ZT8uW3BhdGhdPy5yZXF1aXJlc1JlbmRlcjtcbiAgbGV0IGZpZWxkUGVybWlzc2lvbnMgPSB0cnVlO1xuICBjb25zdCBmaWVsZFN0YXRlID0ge307XG4gIGlmIChwYXNzZXNDb25kaXRpb24gPT09IGZhbHNlKSB7XG4gICAgZmllbGRTdGF0ZS5wYXNzZXNDb25kaXRpb24gPSBmYWxzZTtcbiAgfVxuICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgIGZpZWxkU3RhdGUuZmllbGRTY2hlbWEgPSBmaWVsZDtcbiAgfVxuICBpZiAoZmllbGRBZmZlY3RzRGF0YShmaWVsZCkgJiYgIWZpZWxkSXNIaWRkZW5PckRpc2FibGVkKGZpZWxkKSkge1xuICAgIGZpZWxkUGVybWlzc2lvbnMgPSBwYXJlbnRQZXJtaXNzaW9ucyA9PT0gdHJ1ZSA/IHBhcmVudFBlcm1pc3Npb25zIDogZGVlcENvcHlPYmplY3RTaW1wbGUocGFyZW50UGVybWlzc2lvbnM/LltmaWVsZC5uYW1lXSk7XG4gICAgbGV0IGhhc1Blcm1pc3Npb24gPSBmaWVsZFBlcm1pc3Npb25zID09PSB0cnVlIHx8IGRlZXBDb3B5T2JqZWN0U2ltcGxlKGZpZWxkUGVybWlzc2lvbnM/LnJlYWQpO1xuICAgIGlmICh0eXBlb2YgZmllbGQ/LmFjY2Vzcz8ucmVhZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaGFzUGVybWlzc2lvbiA9IGF3YWl0IGZpZWxkLmFjY2Vzcy5yZWFkKHtcbiAgICAgICAgaWQsXG4gICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICAgIHJlcSxcbiAgICAgICAgc2libGluZ0RhdGE6IGRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYXNQZXJtaXNzaW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRlID0gZmllbGQudmFsaWRhdGU7XG4gICAgbGV0IHZhbGlkYXRpb25SZXN1bHQgPSB0cnVlO1xuICAgIGlmICh0eXBlb2YgdmFsaWRhdGUgPT09ICdmdW5jdGlvbicgJiYgIXNraXBWYWxpZGF0aW9uICYmIHBhc3Nlc0NvbmRpdGlvbikge1xuICAgICAgbGV0IGpzb25FcnJvcjtcbiAgICAgIGlmIChmaWVsZC50eXBlID09PSAnanNvbicgJiYgdHlwZW9mIGRhdGFbZmllbGQubmFtZV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgSlNPTi5wYXJzZShkYXRhW2ZpZWxkLm5hbWVdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGpzb25FcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZShkYXRhPy5bZmllbGQubmFtZV0sIHtcbiAgICAgICAgICAuLi5maWVsZCxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBibG9ja0RhdGEsXG4gICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICAgICAgZXZlbnQ6ICdvbkNoYW5nZScsXG4gICAgICAgICAgLy8gQEFsZXNzaW9HciBhZGRlZCBganNvbkVycm9yYCBpbiBodHRwczovL2dpdGh1Yi5jb20vcGF5bG9hZGNtcy9wYXlsb2FkL2NvbW1pdC9jN2VhNjJhMzk0NzM0MDhjM2VhOTEyYzRmYmY3M2UxMWJlNGI1MzhkXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvci1uZXh0LWxpbmVcbiAgICAgICAgICBqc29uRXJyb3IsXG4gICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICAgIHByZXZpb3VzVmFsdWU6IHByZXZpb3VzRm9ybVN0YXRlPy5bcGF0aF0/LmluaXRpYWxWYWx1ZSxcbiAgICAgICAgICByZXEsXG4gICAgICAgICAgc2libGluZ0RhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IGBFcnJvciB2YWxpZGF0aW5nIGZpZWxkIGF0IHBhdGg6ICR7cGF0aH1gO1xuICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgIGVycixcbiAgICAgICAgICBtc2c6IHZhbGlkYXRpb25SZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFkZEVycm9yUGF0aFRvUGFyZW50ID0gZXJyb3JQYXRoID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcoZXJyb3JQYXRoKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmllbGRTdGF0ZS5lcnJvclBhdGhzKSB7XG4gICAgICAgIGZpZWxkU3RhdGUuZXJyb3JQYXRocyA9IFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWVsZFN0YXRlLmVycm9yUGF0aHMuaW5jbHVkZXMoZXJyb3JQYXRoKSkge1xuICAgICAgICBmaWVsZFN0YXRlLmVycm9yUGF0aHMucHVzaChlcnJvclBhdGgpO1xuICAgICAgICBmaWVsZFN0YXRlLnZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHZhbGlkYXRpb25SZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBmaWVsZFN0YXRlLmVycm9yTWVzc2FnZSA9IHZhbGlkYXRpb25SZXN1bHQ7XG4gICAgICBmaWVsZFN0YXRlLnZhbGlkID0gZmFsc2U7XG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudChwYXRoKTtcbiAgICB9XG4gICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gQXJyYXkuaXNBcnJheShkYXRhW2ZpZWxkLm5hbWVdKSA/IGRhdGFbZmllbGQubmFtZV0gOiBbXTtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBwcm9taXNlcyxcbiAgICAgICAgICAgIHJvd3NcbiAgICAgICAgICB9ID0gYXJyYXlWYWx1ZS5yZWR1Y2UoKGFjYywgcm93LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gcGF0aCArICcuJyArIGk7XG4gICAgICAgICAgICByb3cuaWQgPSByb3c/LmlkIHx8IG5ldyBPYmplY3RJZCgpLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIW9taXRQYXJlbnRzICYmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgaWRLZXkgPSBwYXJlbnRQYXRoICsgJy5pZCc7XG4gICAgICAgICAgICAgIHN0YXRlW2lkS2V5XSA9IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IHJvdy5pZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcm93LmlkXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChpbmNsdWRlU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVbaWRLZXldLmZpZWxkU2NoZW1hID0gZmllbGQuZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGRJc0lEKGZpZWxkKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjYy5wcm9taXNlcy5wdXNoKGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnQsXG4gICAgICAgICAgICAgIGFueVBhcmVudExvY2FsaXplZDogZmllbGQubG9jYWxpemVkIHx8IGFueVBhcmVudExvY2FsaXplZCxcbiAgICAgICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICAgIGRhdGE6IHJvdyxcbiAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgICAgICAgICBmdWxsRGF0YSxcbiAgICAgICAgICAgICAgaW5jbHVkZVNjaGVtYSxcbiAgICAgICAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiAnJyxcbiAgICAgICAgICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiBwYXNzZXNDb25kaXRpb24sXG4gICAgICAgICAgICAgIHBhcmVudFBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IHNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgIHBlcm1pc3Npb25zOiBmaWVsZFBlcm1pc3Npb25zID09PSB0cnVlID8gZmllbGRQZXJtaXNzaW9ucyA6IGZpZWxkUGVybWlzc2lvbnM/LmZpZWxkcyB8fCB7fSxcbiAgICAgICAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgICAgICAgICByZW5kZXJBbGxGaWVsZHM6IHJlcXVpcmVzUmVuZGVyLFxuICAgICAgICAgICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgIHNraXBDb25kaXRpb25DaGVja3MsXG4gICAgICAgICAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKCFhY2Mucm93cykge1xuICAgICAgICAgICAgICBhY2Mucm93cyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjLnJvd3MucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiByb3cuaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNSb3dzID0gcHJldmlvdXNGb3JtU3RhdGU/LltwYXRoXT8ucm93cyB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNlZFJvd0lEc0Zyb21QcmVmcyA9IHByZWZlcmVuY2VzPy5maWVsZHM/LltwYXRoXT8uY29sbGFwc2VkO1xuICAgICAgICAgICAgY29uc3QgY29sbGFwc2VkID0gKCgpID0+IHtcbiAgICAgICAgICAgICAgLy8gRmlyc3QsIGNoZWNrIGlmIGBwcmV2aW91c0Zvcm1TdGF0ZWAgaGFzIGEgbWF0Y2hpbmcgcm93XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzUm93ID0gcHJldmlvdXNSb3dzLmZpbmQocHJldlJvdyA9PiBwcmV2Um93LmlkID09PSByb3cuaWQpO1xuICAgICAgICAgICAgICBpZiAocHJldmlvdXNSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNSb3cuY29sbGFwc2VkID8/IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIElmIHByZXZpb3VzRm9ybVN0YXRlIGlzIHVuZGVmaW5lZCwgY2hlY2sgcHJlZmVyZW5jZXNcbiAgICAgICAgICAgICAgaWYgKGNvbGxhcHNlZFJvd0lEc0Zyb21QcmVmcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlZFJvd0lEc0Zyb21QcmVmcy5pbmNsdWRlcyhyb3cuaWQpIC8vIENoZWNrIGlmIGNvbGxhcHNlZCBpbiBwcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBJZiBuZWl0aGVyIGV4aXN0cywgZmFsbGJhY2sgdG8gYGZpZWxkLmFkbWluLmluaXRDb2xsYXBzZWRgXG4gICAgICAgICAgICAgIHJldHVybiBmaWVsZC5hZG1pbi5pbml0Q29sbGFwc2VkO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgYWNjLnJvd3NbYWNjLnJvd3MubGVuZ3RoIC0gMV0uY29sbGFwc2VkID0gY29sbGFwc2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBwcm9taXNlczogW10sXG4gICAgICAgICAgICByb3dzOiB1bmRlZmluZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBXYWl0IGZvciBhbGwgcHJvbWlzZXMgYW5kIHVwZGF0ZSBmaWVsZHMgd2l0aCB0aGUgcmVzdWx0c1xuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICBpZiAocm93cykge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5yb3dzID0gcm93cztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVW5zZXQgcmVxdWlyZXNSZW5kZXJcbiAgICAgICAgICAvLyBzbyBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBmb3JtIHN0YXRlXG4gICAgICAgICAgZmllbGRTdGF0ZS5yZXF1aXJlc1JlbmRlciA9IGZhbHNlO1xuICAgICAgICAgIC8vIEFkZCB2YWx1ZXMgdG8gZmllbGQgc3RhdGVcbiAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYXJyYXlWYWx1ZSA6IGFycmF5VmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSBmb3JjZUZ1bGxWYWx1ZSA/IGFycmF5VmFsdWUgOiBhcnJheVZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhcnJheVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgZmllbGRTdGF0ZS5kaXNhYmxlRm9ybURhdGEgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBZGQgZmllbGQgdG8gc3RhdGVcbiAgICAgICAgICBpZiAoIW9taXRQYXJlbnRzICYmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBibG9ja3NWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZGF0YVtmaWVsZC5uYW1lXSkgPyBkYXRhW2ZpZWxkLm5hbWVdIDogW107XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcHJvbWlzZXMsXG4gICAgICAgICAgICByb3dNZXRhZGF0YVxuICAgICAgICAgIH0gPSBibG9ja3NWYWx1ZS5yZWR1Y2UoKGFjYywgcm93LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBibG9jayA9IGZpZWxkLmJsb2Nrcy5maW5kKGJsb2NrVHlwZSA9PiBibG9ja1R5cGUuc2x1ZyA9PT0gcm93LmJsb2NrVHlwZSk7XG4gICAgICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmxvY2sgd2l0aCB0eXBlIFwiJHtyb3cuYmxvY2tUeXBlfVwiIHdhcyBmb3VuZCBpbiBibG9jayBkYXRhLCBidXQgbm8gYmxvY2sgd2l0aCB0aGF0IHR5cGUgaXMgZGVmaW5lZCBpbiB0aGUgY29uZmlnIGZvciBmaWVsZCB3aXRoIHNjaGVtYSBwYXRoICR7c2NoZW1hUGF0aH0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gcGF0aCArICcuJyArIGk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcm93LmlkID0gcm93Py5pZCB8fCBuZXcgT2JqZWN0SWQoKS50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgICBpZiAoIW9taXRQYXJlbnRzICYmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYmxvY2sgYGlkYCBmaWVsZFxuICAgICAgICAgICAgICAgIGNvbnN0IGlkS2V5ID0gcGFyZW50UGF0aCArICcuaWQnO1xuICAgICAgICAgICAgICAgIHN0YXRlW2lkS2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogcm93LmlkLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvdy5pZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2lkS2V5XS5maWVsZFNjaGVtYSA9IGluY2x1ZGVTY2hlbWEgPyBibG9jay5maWVsZHMuZmluZChibG9ja0ZpZWxkID0+IGZpZWxkSXNJRChibG9ja0ZpZWxkKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBgYmxvY2tUeXBlYCBmaWVsZFxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkS2V5ID0gcGFyZW50UGF0aCArICcuYmxvY2tUeXBlJztcbiAgICAgICAgICAgICAgICBzdGF0ZVtmaWVsZEtleV0gPSB7XG4gICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IHJvdy5ibG9ja1R5cGUsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogcm93LmJsb2NrVHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2ZpZWxkS2V5XS5maWVsZFNjaGVtYSA9IGJsb2NrLmZpZWxkcy5maW5kKGJsb2NrRmllbGQgPT4gJ25hbWUnIGluIGJsb2NrRmllbGQgJiYgYmxvY2tGaWVsZC5uYW1lID09PSAnYmxvY2tUeXBlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBgYmxvY2tOYW1lYCBmaWVsZFxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrTmFtZUtleSA9IHBhcmVudFBhdGggKyAnLmJsb2NrTmFtZSc7XG4gICAgICAgICAgICAgICAgc3RhdGVbYmxvY2tOYW1lS2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChyb3cuYmxvY2tOYW1lKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZVtibG9ja05hbWVLZXldLmluaXRpYWxWYWx1ZSA9IHJvdy5ibG9ja05hbWU7XG4gICAgICAgICAgICAgICAgICBzdGF0ZVtibG9ja05hbWVLZXldLnZhbHVlID0gcm93LmJsb2NrTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2Jsb2NrTmFtZUtleV0uZmllbGRTY2hlbWEgPSBibG9jay5maWVsZHMuZmluZChibG9ja0ZpZWxkID0+ICduYW1lJyBpbiBibG9ja0ZpZWxkICYmIGJsb2NrRmllbGQubmFtZSA9PT0gJ2Jsb2NrTmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhY2MucHJvbWlzZXMucHVzaChpdGVyYXRlRmllbGRzKHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBhZGRFcnJvclBhdGhUb1BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQ6IGZpZWxkLmxvY2FsaXplZCB8fCBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICAgICAgICAgICAgYmxvY2tEYXRhOiByb3csXG4gICAgICAgICAgICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICAgICAgZGF0YTogcm93LFxuICAgICAgICAgICAgICAgIGZpZWxkczogYmxvY2suZmllbGRzLFxuICAgICAgICAgICAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgICBmb3JjZUZ1bGxWYWx1ZSxcbiAgICAgICAgICAgICAgICBmdWxsRGF0YSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgICAgICAgICAgIG9taXRQYXJlbnRzLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6ICcnLFxuICAgICAgICAgICAgICAgIHBhcmVudFBhc3Nlc0NvbmRpdGlvbjogcGFzc2VzQ29uZGl0aW9uLFxuICAgICAgICAgICAgICAgIHBhcmVudFBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aDogc2NoZW1hUGF0aCArICcuJyArIGJsb2NrLnNsdWcsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IGZpZWxkUGVybWlzc2lvbnMgPT09IHRydWUgPyBmaWVsZFBlcm1pc3Npb25zIDogcGFyZW50UGVybWlzc2lvbnM/LltmaWVsZC5uYW1lXT8uYmxvY2tzPy5bYmxvY2suc2x1Z10gPT09IHRydWUgPyB0cnVlIDogcGFyZW50UGVybWlzc2lvbnM/LltmaWVsZC5uYW1lXT8uYmxvY2tzPy5bYmxvY2suc2x1Z10/LmZpZWxkcyB8fCB7fSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgICAgICAgICAgICByZW5kZXJBbGxGaWVsZHM6IHJlcXVpcmVzUmVuZGVyLFxuICAgICAgICAgICAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNraXBDb25kaXRpb25DaGVja3MsXG4gICAgICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBhY2Mucm93TWV0YWRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgICAgICAgICAgICBibG9ja1R5cGU6IHJvdy5ibG9ja1R5cGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNlZFJvd0lEcyA9IHByZWZlcmVuY2VzPy5maWVsZHM/LltwYXRoXT8uY29sbGFwc2VkO1xuICAgICAgICAgICAgICBjb25zdCBjb2xsYXBzZWQgPSBjb2xsYXBzZWRSb3dJRHMgPT09IHVuZGVmaW5lZCA/IGZpZWxkLmFkbWluLmluaXRDb2xsYXBzZWQgOiBjb2xsYXBzZWRSb3dJRHMuaW5jbHVkZXMocm93LmlkKTtcbiAgICAgICAgICAgICAgaWYgKGNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGFjYy5yb3dNZXRhZGF0YVthY2Mucm93TWV0YWRhdGEubGVuZ3RoIC0gMV0uY29sbGFwc2VkID0gY29sbGFwc2VkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHByb21pc2VzOiBbXSxcbiAgICAgICAgICAgIHJvd01ldGFkYXRhOiBbXVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICAvLyBBZGQgdmFsdWVzIHRvIGZpZWxkIHN0YXRlXG4gICAgICAgICAgaWYgKGRhdGFbZmllbGQubmFtZV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gZm9yY2VGdWxsVmFsdWUgPyBibG9ja3NWYWx1ZSA6IGJsb2Nrc1ZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gZm9yY2VGdWxsVmFsdWUgPyBibG9ja3NWYWx1ZSA6IGJsb2Nrc1ZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChibG9ja3NWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGZpZWxkU3RhdGUuZGlzYWJsZUZvcm1EYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGRTdGF0ZS5yb3dzID0gcm93TWV0YWRhdGE7XG4gICAgICAgICAgLy8gVW5zZXQgcmVxdWlyZXNSZW5kZXJcbiAgICAgICAgICAvLyBzbyBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBmb3JtIHN0YXRlXG4gICAgICAgICAgZmllbGRTdGF0ZS5yZXF1aXJlc1JlbmRlciA9IGZhbHNlO1xuICAgICAgICAgIC8vIEFkZCBmaWVsZCB0byBzdGF0ZVxuICAgICAgICAgIGlmICghb21pdFBhcmVudHMgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSkge1xuICAgICAgICAgICAgc3RhdGVbcGF0aF0gPSBmaWVsZFN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmRpc2FibGVGb3JtRGF0YSA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZVtwYXRoXSA9IGZpZWxkU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBhZGRFcnJvclBhdGhUb1BhcmVudCxcbiAgICAgICAgICAgIGFueVBhcmVudExvY2FsaXplZDogZmllbGQubG9jYWxpemVkIHx8IGFueVBhcmVudExvY2FsaXplZCxcbiAgICAgICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICBkYXRhOiBkYXRhPy5bZmllbGQubmFtZV0gfHwge30sXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgZm9yY2VGdWxsVmFsdWUsXG4gICAgICAgICAgICBmdWxsRGF0YSxcbiAgICAgICAgICAgIGluY2x1ZGVTY2hlbWEsXG4gICAgICAgICAgICBvbWl0UGFyZW50cyxcbiAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICAgICAgICBwYXJlbnRQYXNzZXNDb25kaXRpb246IHBhc3Nlc0NvbmRpdGlvbixcbiAgICAgICAgICAgIHBhcmVudFBhdGg6IHBhdGgsXG4gICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBzY2hlbWFQYXRoLFxuICAgICAgICAgICAgcGVybWlzc2lvbnM6IHR5cGVvZiBmaWVsZFBlcm1pc3Npb25zID09PSAnYm9vbGVhbicgPyBmaWVsZFBlcm1pc3Npb25zIDogZmllbGRQZXJtaXNzaW9ucz8uZmllbGRzLFxuICAgICAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICBza2lwQ29uZGl0aW9uQ2hlY2tzLFxuICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlICdyZWxhdGlvbnNoaXAnOlxuICAgICAgY2FzZSAndXBsb2FkJzpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChmaWVsZC5maWx0ZXJPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQucmVsYXRpb25UbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmaWVsZFN0YXRlLmZpbHRlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBbZmllbGQucmVsYXRpb25Ub106IGZpZWxkLmZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpZWxkU3RhdGUuZmlsdGVyT3B0aW9ucyA9IGZpZWxkLnJlbGF0aW9uVG8ucmVkdWNlKChhY2MsIHJlbGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICBhY2NbcmVsYXRpb25dID0gZmllbGQuZmlsdGVyT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBhd2FpdCBnZXRGaWx0ZXJPcHRpb25zUXVlcnkoZmllbGQuZmlsdGVyT3B0aW9ucywge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgICAgICAgICBkYXRhOiBmdWxsRGF0YSxcbiAgICAgICAgICAgICAgICByZWxhdGlvblRvOiBmaWVsZC5yZWxhdGlvblRvLFxuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXEudXNlclxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZmllbGRTdGF0ZS5maWx0ZXJPcHRpb25zID0gcXVlcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZC5oYXNNYW55KSB7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXBWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZGF0YVtmaWVsZC5uYW1lXSkgPyBkYXRhW2ZpZWxkLm5hbWVdLm1hcChyZWxhdGlvbnNoaXAgPT4ge1xuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICByZWxhdGlvblRvOiByZWxhdGlvbnNoaXAucmVsYXRpb25UbyxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWxhdGlvbnNoaXAudmFsdWUgJiYgdHlwZW9mIHJlbGF0aW9uc2hpcC52YWx1ZSA9PT0gJ29iamVjdCcgPyByZWxhdGlvbnNoaXAudmFsdWU/LmlkIDogcmVsYXRpb25zaGlwLnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlbGF0aW9uc2hpcCA9PT0gJ29iamVjdCcgJiYgcmVsYXRpb25zaGlwICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbGF0aW9uc2hpcC5pZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVsYXRpb25zaGlwO1xuICAgICAgICAgICAgfSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKSkge1xuICAgICAgICAgICAgaWYgKGRhdGFbZmllbGQubmFtZV0gJiYgdHlwZW9mIGRhdGFbZmllbGQubmFtZV0gPT09ICdvYmplY3QnICYmICdyZWxhdGlvblRvJyBpbiBkYXRhW2ZpZWxkLm5hbWVdICYmICd2YWx1ZScgaW4gZGF0YVtmaWVsZC5uYW1lXSkge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBkYXRhW2ZpZWxkLm5hbWVdPy52YWx1ZSA9PT0gJ29iamVjdCcgJiYgZGF0YVtmaWVsZC5uYW1lXT8udmFsdWUgJiYgJ2lkJyBpbiBkYXRhW2ZpZWxkLm5hbWVdLnZhbHVlID8gZGF0YVtmaWVsZC5uYW1lXS52YWx1ZS5pZCA6IGRhdGFbZmllbGQubmFtZV0udmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcFZhbHVlID0ge1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IGRhdGFbZmllbGQubmFtZV0/LnJlbGF0aW9uVG8sXG4gICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlO1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXBWYWx1ZSA9IGRhdGFbZmllbGQubmFtZV0gJiYgdHlwZW9mIGRhdGFbZmllbGQubmFtZV0gPT09ICdvYmplY3QnICYmICdpZCcgaW4gZGF0YVtmaWVsZC5uYW1lXSA/IGRhdGFbZmllbGQubmFtZV0uaWQgOiBkYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSByZWxhdGlvbnNoaXBWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICAgICAgICBzdGF0ZVtwYXRoXSA9IGZpZWxkU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGRhdGFbZmllbGQubmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IGRhdGFbZmllbGQubmFtZV07XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IGRhdGFbZmllbGQubmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFkZCBmaWVsZCB0byBzdGF0ZVxuICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkge1xuICAgICAgICAgICAgc3RhdGVbcGF0aF0gPSBmaWVsZFN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChmaWVsZEhhc1N1YkZpZWxkcyhmaWVsZCkgJiYgIWZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgLy8gSGFuZGxlIGZpZWxkIHR5cGVzIHRoYXQgZG8gbm90IHVzZSBuYW1lcyAocm93LCBldGMpXG4gICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICBzdGF0ZVtwYXRoXSA9IHtcbiAgICAgICAgZGlzYWJsZUZvcm1EYXRhOiB0cnVlXG4gICAgICB9O1xuICAgICAgaWYgKHBhc3Nlc0NvbmRpdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RhdGVbcGF0aF0ucGFzc2VzQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgaWQsXG4gICAgICAvLyBwYXNzdGhyb3VnaCBwYXJlbnQgZnVuY3Rpb25hbGl0eVxuICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnQ6IGFkZEVycm9yUGF0aFRvUGFyZW50QXJnLFxuICAgICAgYW55UGFyZW50TG9jYWxpemVkOiBmaWVsZElzTG9jYWxpemVkKGZpZWxkKSB8fCBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICBibG9ja0RhdGEsXG4gICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgZGF0YSxcbiAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICBmaWx0ZXIsXG4gICAgICBmb3JjZUZ1bGxWYWx1ZSxcbiAgICAgIGZ1bGxEYXRhLFxuICAgICAgaW5jbHVkZVNjaGVtYSxcbiAgICAgIG9taXRQYXJlbnRzLFxuICAgICAgb3BlcmF0aW9uLFxuICAgICAgcGFyZW50SW5kZXhQYXRoOiBpbmRleFBhdGgsXG4gICAgICBwYXJlbnRQYXNzZXNDb25kaXRpb246IHBhc3Nlc0NvbmRpdGlvbixcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoLFxuICAgICAgcGVybWlzc2lvbnM6IHBhcmVudFBlcm1pc3Npb25zLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICByZXEsXG4gICAgICBza2lwQ29uZGl0aW9uQ2hlY2tzLFxuICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICBzdGF0ZVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJzJykge1xuICAgIGNvbnN0IHByb21pc2VzID0gZmllbGQudGFicy5tYXAoKHRhYiwgdGFiSW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGlzTmFtZWRUYWIgPSB0YWJIYXNOYW1lKHRhYik7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGluZGV4UGF0aDogdGFiSW5kZXhQYXRoLFxuICAgICAgICBwYXRoOiB0YWJQYXRoLFxuICAgICAgICBzY2hlbWFQYXRoOiB0YWJTY2hlbWFQYXRoXG4gICAgICB9ID0gZ2V0RmllbGRQYXRocyh7XG4gICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgLi4udGFiLFxuICAgICAgICAgIHR5cGU6ICd0YWInXG4gICAgICAgIH0sXG4gICAgICAgIGluZGV4OiB0YWJJbmRleCxcbiAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhdGgsXG4gICAgICAgIHBhcmVudFNjaGVtYVBhdGhcbiAgICAgIH0pO1xuICAgICAgbGV0IGNoaWxkUGVybWlzc2lvbnMgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoaXNOYW1lZFRhYikge1xuICAgICAgICBpZiAocGFyZW50UGVybWlzc2lvbnMgPT09IHRydWUpIHtcbiAgICAgICAgICBjaGlsZFBlcm1pc3Npb25zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YWJQZXJtaXNzaW9ucyA9IHBhcmVudFBlcm1pc3Npb25zPy5bdGFiLm5hbWVdO1xuICAgICAgICAgIGlmICh0YWJQZXJtaXNzaW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2hpbGRQZXJtaXNzaW9ucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkUGVybWlzc2lvbnMgPSB0YWJQZXJtaXNzaW9ucz8uZmllbGRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRQZXJtaXNzaW9ucyA9IHBhcmVudFBlcm1pc3Npb25zO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICBpZCxcbiAgICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnQ6IGFkZEVycm9yUGF0aFRvUGFyZW50QXJnLFxuICAgICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQ6IHRhYi5sb2NhbGl6ZWQgfHwgYW55UGFyZW50TG9jYWxpemVkLFxuICAgICAgICBibG9ja0RhdGEsXG4gICAgICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgZGF0YTogaXNOYW1lZFRhYiA/IGRhdGE/Llt0YWIubmFtZV0gfHwge30gOiBkYXRhLFxuICAgICAgICBmaWVsZHM6IHRhYi5maWVsZHMsXG4gICAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgICBmdWxsRGF0YSxcbiAgICAgICAgaW5jbHVkZVNjaGVtYSxcbiAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpc05hbWVkVGFiID8gJycgOiB0YWJJbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhc3Nlc0NvbmRpdGlvbjogcGFzc2VzQ29uZGl0aW9uLFxuICAgICAgICBwYXJlbnRQYXRoOiBpc05hbWVkVGFiID8gdGFiUGF0aCA6IHBhcmVudFBhdGgsXG4gICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IGlzTmFtZWRUYWIgPyB0YWJTY2hlbWFQYXRoIDogcGFyZW50U2NoZW1hUGF0aCxcbiAgICAgICAgcGVybWlzc2lvbnM6IGNoaWxkUGVybWlzc2lvbnMsXG4gICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgICAgcmVuZGVyQWxsRmllbGRzLFxuICAgICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgICByZXEsXG4gICAgICAgIHNraXBDb25kaXRpb25DaGVja3MsXG4gICAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgICBzdGF0ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd1aScpIHtcbiAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgIHN0YXRlW3BhdGhdLmRpc2FibGVGb3JtRGF0YSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChyZXF1aXJlc1JlbmRlciAmJiByZW5kZXJGaWVsZEZuICYmICFmaWVsZElzSGlkZGVuT3JEaXNhYmxlZChmaWVsZCkpIHtcbiAgICBjb25zdCBmaWVsZFN0YXRlID0gc3RhdGVbcGF0aF07XG4gICAgY29uc3QgZmllbGRDb25maWcgPSBmaWVsZFNjaGVtYU1hcC5nZXQoc2NoZW1hUGF0aCk7XG4gICAgaWYgKCFmaWVsZENvbmZpZykge1xuICAgICAgaWYgKHNjaGVtYVBhdGguZW5kc1dpdGgoJy5ibG9ja1R5cGUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpZWxkIGNvbmZpZyBub3QgZm91bmQgZm9yICR7c2NoZW1hUGF0aH1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmaWVsZFN0YXRlKSB7XG4gICAgICAvLyBTb21lIGZpZWxkcyAoaWUgYFRhYmApIGRvIG5vdCBsaXZlIGluIGZvcm0gc3RhdGVcbiAgICAgIC8vIHRoZXJlZm9yZSB3ZSBjYW5ub3QgYXR0YWNoIGN1c3RvbUNvbXBvbmVudHMgdG8gdGhlbVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW5kZXJGaWVsZEZuKHtcbiAgICAgIGlkLFxuICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgIGRhdGE6IGZ1bGxEYXRhLFxuICAgICAgZmllbGRDb25maWc6IGZpZWxkQ29uZmlnLFxuICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICBmaWVsZFN0YXRlLFxuICAgICAgZm9ybVN0YXRlOiBzdGF0ZSxcbiAgICAgIGluZGV4UGF0aCxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoLFxuICAgICAgcGF0aCxcbiAgICAgIHBlcm1pc3Npb25zOiBmaWVsZFBlcm1pc3Npb25zLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICBwcmV2aW91c0ZpZWxkU3RhdGU6IHByZXZpb3VzRm9ybVN0YXRlPy5bcGF0aF0sXG4gICAgICByZXEsXG4gICAgICBzY2hlbWFQYXRoLFxuICAgICAgc2libGluZ0RhdGE6IGRhdGFcbiAgICB9KTtcbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZEZpZWxkU3RhdGVQcm9taXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDefaultValues: () => (/* binding */ calculateDefaultValues)\n/* harmony export */ });\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\");\n\nconst calculateDefaultValues = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  user\n}) => {\n  await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_0__.iterateFields)({\n    id,\n    data,\n    fields,\n    locale,\n    req,\n    siblingData: data,\n    user\n  });\n  return data;\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2NhbGN1bGF0ZURlZmF1bHRWYWx1ZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7QUFDNUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsUUFBUSxnRUFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b3NoL0RvY3VtZW50cy9QbGF0Zm9ybUlPL1Byb2plY3RzL3N0cmFwaTUvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuMjMuMF9AdHlwZXMrcmVhY3RAMTkuMC43X21vbmFjby1lZGl0b3JAMC41Mi4yX25leHRAMTUuMS41X3JlYWN0LWRvbUAxOS4wLjBfcl9kam9ieWhlcnM3bTR0ajZndnRyN3d0cGt6ZS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGl0ZXJhdGVGaWVsZHMgfSBmcm9tICcuL2l0ZXJhdGVGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXMgPSBhc3luYyAoe1xuICBpZCxcbiAgZGF0YSxcbiAgZmllbGRzLFxuICBsb2NhbGUsXG4gIHJlcSxcbiAgdXNlclxufSkgPT4ge1xuICBhd2FpdCBpdGVyYXRlRmllbGRzKHtcbiAgICBpZCxcbiAgICBkYXRhLFxuICAgIGZpZWxkcyxcbiAgICBsb2NhbGUsXG4gICAgcmVxLFxuICAgIHNpYmxpbmdEYXRhOiBkYXRhLFxuICAgIHVzZXJcbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js":
/*!************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js ***!
  \************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iterateFields: () => (/* binding */ iterateFields)\n/* harmony export */ });\n/* harmony import */ var _promise_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./promise.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js\");\n\nconst iterateFields = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  siblingData,\n  user\n}) => {\n  const promises = [];\n  fields.forEach(field => {\n    promises.push((0,_promise_js__WEBPACK_IMPORTED_MODULE_0__.defaultValuePromise)({\n      id,\n      data,\n      field,\n      locale,\n      req,\n      siblingData,\n      user\n    }));\n  });\n  await Promise.all(promises);\n};\n//# sourceMappingURL=iterateFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2NhbGN1bGF0ZURlZmF1bHRWYWx1ZXMvaXRlcmF0ZUZpZWxkcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDtBQUM1QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxrQkFBa0IsZ0VBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b3NoL0RvY3VtZW50cy9QbGF0Zm9ybUlPL1Byb2plY3RzL3N0cmFwaTUvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuMjMuMF9AdHlwZXMrcmVhY3RAMTkuMC43X21vbmFjby1lZGl0b3JAMC41Mi4yX25leHRAMTUuMS41X3JlYWN0LWRvbUAxOS4wLjBfcl9kam9ieWhlcnM3bTR0ajZndnRyN3d0cGt6ZS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL2l0ZXJhdGVGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdFZhbHVlUHJvbWlzZSB9IGZyb20gJy4vcHJvbWlzZS5qcyc7XG5leHBvcnQgY29uc3QgaXRlcmF0ZUZpZWxkcyA9IGFzeW5jICh7XG4gIGlkLFxuICBkYXRhLFxuICBmaWVsZHMsXG4gIGxvY2FsZSxcbiAgcmVxLFxuICBzaWJsaW5nRGF0YSxcbiAgdXNlclxufSkgPT4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgcHJvbWlzZXMucHVzaChkZWZhdWx0VmFsdWVQcm9taXNlKHtcbiAgICAgIGlkLFxuICAgICAgZGF0YSxcbiAgICAgIGZpZWxkLFxuICAgICAgbG9jYWxlLFxuICAgICAgcmVxLFxuICAgICAgc2libGluZ0RhdGEsXG4gICAgICB1c2VyXG4gICAgfSkpO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdGVGaWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultValuePromise: () => (/* binding */ defaultValuePromise)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/getDefaultValue.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\");\n\n\n\n// TODO: Make this works for rich text subfields\nconst defaultValuePromise = async ({\n  id,\n  data,\n  field,\n  locale,\n  req,\n  siblingData,\n  user\n}) => {\n  if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.fieldAffectsData)(field)) {\n    if (typeof siblingData[field.name] === 'undefined' && typeof field.defaultValue !== 'undefined') {\n      try {\n        siblingData[field.name] = await (0,payload__WEBPACK_IMPORTED_MODULE_1__.getDefaultValue)({\n          defaultValue: field.defaultValue,\n          locale,\n          req,\n          user,\n          value: siblingData[field.name]\n        });\n      } catch (err) {\n        req.payload.logger.error({\n          err,\n          msg: `Error calculating default value for field: ${field.name}`\n        });\n      }\n    }\n  }\n  // Traverse subfields\n  switch (field.type) {\n    case 'array':\n      {\n        const rows = siblingData[field.name];\n        if (Array.isArray(rows)) {\n          const promises = [];\n          rows.forEach(row => {\n            promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n              id,\n              data,\n              fields: field.fields,\n              locale,\n              req,\n              siblingData: row,\n              user\n            }));\n          });\n          await Promise.all(promises);\n        }\n        break;\n      }\n    case 'blocks':\n      {\n        const rows = siblingData[field.name];\n        if (Array.isArray(rows)) {\n          const promises = [];\n          rows.forEach(row => {\n            const blockTypeToMatch = row.blockType;\n            const block = field.blocks.find(blockType => blockType.slug === blockTypeToMatch);\n            if (block) {\n              row.blockType = blockTypeToMatch;\n              promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n                id,\n                data,\n                fields: block.fields,\n                locale,\n                req,\n                siblingData: row,\n                user\n              }));\n            }\n          });\n          await Promise.all(promises);\n        }\n        break;\n      }\n    case 'collapsible':\n    case 'row':\n      {\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          siblingData,\n          user\n        });\n        break;\n      }\n    case 'group':\n      {\n        if (typeof siblingData[field.name] !== 'object') {\n          siblingData[field.name] = {};\n        }\n        const groupData = siblingData[field.name];\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          siblingData: groupData,\n          user\n        });\n        break;\n      }\n    case 'tab':\n      {\n        let tabSiblingData;\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.tabHasName)(field)) {\n          if (typeof siblingData[field.name] !== 'object') {\n            siblingData[field.name] = {};\n          }\n          tabSiblingData = siblingData[field.name];\n        } else {\n          tabSiblingData = siblingData;\n        }\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          siblingData: tabSiblingData,\n          user\n        });\n        break;\n      }\n    case 'tabs':\n      {\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_2__.iterateFields)({\n          id,\n          data,\n          fields: field.tabs.map(tab => ({\n            ...tab,\n            type: 'tab'\n          })),\n          locale,\n          req,\n          siblingData,\n          user\n        });\n        break;\n      }\n    default:\n      {\n        break;\n      }\n  }\n};\n//# sourceMappingURL=promise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2NhbGN1bGF0ZURlZmF1bHRWYWx1ZXMvcHJvbWlzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDO0FBQ29CO0FBQ1g7QUFDbkQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE1BQU0sZ0VBQWdCO0FBQ3RCO0FBQ0E7QUFDQSx3Q0FBd0Msd0RBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBLDZEQUE2RCxXQUFXO0FBQ3hFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsY0FBYyxnRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0VBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b3NoL0RvY3VtZW50cy9QbGF0Zm9ybUlPL1Byb2plY3RzL3N0cmFwaTUvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuMjMuMF9AdHlwZXMrcmVhY3RAMTkuMC43X21vbmFjby1lZGl0b3JAMC41Mi4yX25leHRAMTUuMS41X3JlYWN0LWRvbUAxOS4wLjBfcl9kam9ieWhlcnM3bTR0ajZndnRyN3d0cGt6ZS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL3Byb21pc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGVmYXVsdFZhbHVlIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgaXRlcmF0ZUZpZWxkcyB9IGZyb20gJy4vaXRlcmF0ZUZpZWxkcy5qcyc7XG4vLyBUT0RPOiBNYWtlIHRoaXMgd29ya3MgZm9yIHJpY2ggdGV4dCBzdWJmaWVsZHNcbmV4cG9ydCBjb25zdCBkZWZhdWx0VmFsdWVQcm9taXNlID0gYXN5bmMgKHtcbiAgaWQsXG4gIGRhdGEsXG4gIGZpZWxkLFxuICBsb2NhbGUsXG4gIHJlcSxcbiAgc2libGluZ0RhdGEsXG4gIHVzZXJcbn0pID0+IHtcbiAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgaWYgKHR5cGVvZiBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0gYXdhaXQgZ2V0RGVmYXVsdFZhbHVlKHtcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6IGZpZWxkLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgdmFsdWU6IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIG1zZzogYEVycm9yIGNhbGN1bGF0aW5nIGRlZmF1bHQgdmFsdWUgZm9yIGZpZWxkOiAke2ZpZWxkLm5hbWV9YFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gVHJhdmVyc2Ugc3ViZmllbGRzXG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dzKSkge1xuICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogcm93LFxuICAgICAgICAgICAgICB1c2VyXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm93cykpIHtcbiAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tUeXBlVG9NYXRjaCA9IHJvdy5ibG9ja1R5cGU7XG4gICAgICAgICAgICBjb25zdCBibG9jayA9IGZpZWxkLmJsb2Nrcy5maW5kKGJsb2NrVHlwZSA9PiBibG9ja1R5cGUuc2x1ZyA9PT0gYmxvY2tUeXBlVG9NYXRjaCk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcm93LmJsb2NrVHlwZSA9IGJsb2NrVHlwZVRvTWF0Y2g7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2goaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGJsb2NrLmZpZWxkcyxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNpYmxpbmdEYXRhOiByb3csXG4gICAgICAgICAgICAgICAgdXNlclxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ2NvbGxhcHNpYmxlJzpcbiAgICBjYXNlICdyb3cnOlxuICAgICAge1xuICAgICAgICBhd2FpdCBpdGVyYXRlRmllbGRzKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICByZXEsXG4gICAgICAgICAgc2libGluZ0RhdGEsXG4gICAgICAgICAgdXNlclxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSAnZ3JvdXAnOlxuICAgICAge1xuICAgICAgICBpZiAodHlwZW9mIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JvdXBEYXRhID0gc2libGluZ0RhdGFbZmllbGQubmFtZV07XG4gICAgICAgIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICBzaWJsaW5nRGF0YTogZ3JvdXBEYXRhLFxuICAgICAgICAgIHVzZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ3RhYic6XG4gICAgICB7XG4gICAgICAgIGxldCB0YWJTaWJsaW5nRGF0YTtcbiAgICAgICAgaWYgKHRhYkhhc05hbWUoZmllbGQpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhYlNpYmxpbmdEYXRhID0gc2libGluZ0RhdGFbZmllbGQubmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiU2libGluZ0RhdGEgPSBzaWJsaW5nRGF0YTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBpdGVyYXRlRmllbGRzKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICByZXEsXG4gICAgICAgICAgc2libGluZ0RhdGE6IHRhYlNpYmxpbmdEYXRhLFxuICAgICAgICAgIHVzZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ3RhYnMnOlxuICAgICAge1xuICAgICAgICBhd2FpdCBpdGVyYXRlRmllbGRzKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGZpZWxkczogZmllbGQudGFicy5tYXAodGFiID0+ICh7XG4gICAgICAgICAgICAuLi50YWIsXG4gICAgICAgICAgICB0eXBlOiAndGFiJ1xuICAgICAgICAgIH0pKSxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHNpYmxpbmdEYXRhLFxuICAgICAgICAgIHVzZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/getFilterOptionsQuery.js":
/*!*********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/getFilterOptionsQuery.js ***!
  \*********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFilterOptionsQuery: () => (/* binding */ getFilterOptionsQuery)\n/* harmony export */ });\nconst getFilterOptionsQuery = async (filterOptions, options) => {\n  const {\n    relationTo\n  } = options;\n  const relations = Array.isArray(relationTo) ? relationTo : [relationTo];\n  const query = {};\n  if (typeof filterOptions !== 'undefined') {\n    await Promise.all(relations.map(async relation => {\n      query[relation] = typeof filterOptions === 'function' ? await filterOptions({\n        ...options,\n        relationTo: relation\n      }) : filterOptions;\n      if (query[relation] === true) {\n        query[relation] = {};\n      }\n      // this is an ugly way to prevent results from being returned\n      if (query[relation] === false) {\n        query[relation] = {\n          id: {\n            exists: false\n          }\n        };\n      }\n    }));\n  }\n  return query;\n};\n//# sourceMappingURL=getFilterOptionsQuery.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2dldEZpbHRlck9wdGlvbnNRdWVyeS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b3NoL0RvY3VtZW50cy9QbGF0Zm9ybUlPL1Byb2plY3RzL3N0cmFwaTUvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuMjMuMF9AdHlwZXMrcmVhY3RAMTkuMC43X21vbmFjby1lZGl0b3JAMC41Mi4yX25leHRAMTUuMS41X3JlYWN0LWRvbUAxOS4wLjBfcl9kam9ieWhlcnM3bTR0ajZndnRyN3d0cGt6ZS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9nZXRGaWx0ZXJPcHRpb25zUXVlcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldEZpbHRlck9wdGlvbnNRdWVyeSA9IGFzeW5jIChmaWx0ZXJPcHRpb25zLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICByZWxhdGlvblRvXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByZWxhdGlvbnMgPSBBcnJheS5pc0FycmF5KHJlbGF0aW9uVG8pID8gcmVsYXRpb25UbyA6IFtyZWxhdGlvblRvXTtcbiAgY29uc3QgcXVlcnkgPSB7fTtcbiAgaWYgKHR5cGVvZiBmaWx0ZXJPcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHJlbGF0aW9ucy5tYXAoYXN5bmMgcmVsYXRpb24gPT4ge1xuICAgICAgcXVlcnlbcmVsYXRpb25dID0gdHlwZW9mIGZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBmaWx0ZXJPcHRpb25zKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgcmVsYXRpb25UbzogcmVsYXRpb25cbiAgICAgIH0pIDogZmlsdGVyT3B0aW9ucztcbiAgICAgIGlmIChxdWVyeVtyZWxhdGlvbl0gPT09IHRydWUpIHtcbiAgICAgICAgcXVlcnlbcmVsYXRpb25dID0ge307XG4gICAgICB9XG4gICAgICAvLyB0aGlzIGlzIGFuIHVnbHkgd2F5IHRvIHByZXZlbnQgcmVzdWx0cyBmcm9tIGJlaW5nIHJldHVybmVkXG4gICAgICBpZiAocXVlcnlbcmVsYXRpb25dID09PSBmYWxzZSkge1xuICAgICAgICBxdWVyeVtyZWxhdGlvbl0gPSB7XG4gICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIGV4aXN0czogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBxdWVyeTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRGaWx0ZXJPcHRpb25zUXVlcnkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/getFilterOptionsQuery.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fieldSchemasToFormState: () => (/* binding */ fieldSchemasToFormState),\n/* harmony export */   iterateFields: () => (/* reexport safe */ _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__.iterateFields)\n/* harmony export */ });\n/* harmony import */ var _calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calculateDefaultValues/index.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\");\n\n\nconst fieldSchemasToFormState = async ({\n  id,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data = {},\n  documentData,\n  fields,\n  fieldSchemaMap,\n  initialBlockData,\n  operation,\n  permissions,\n  preferences,\n  previousFormState,\n  renderAllFields,\n  renderFieldFn,\n  req,\n  schemaPath,\n  skipValidation\n}) => {\n  if (!clientFieldSchemaMap && renderFieldFn) {\n    console.warn('clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance');\n  }\n  if (fields && fields.length) {\n    const state = {};\n    const dataWithDefaultValues = {\n      ...data\n    };\n    await (0,_calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__.calculateDefaultValues)({\n      id,\n      data: dataWithDefaultValues,\n      fields,\n      locale: req.locale,\n      req,\n      siblingData: dataWithDefaultValues,\n      user: req.user\n    });\n    let fullData = dataWithDefaultValues;\n    if (documentData) {\n      // By the time this function is used to get form state for nested forms, their default values should have already been calculated\n      // => no need to run calculateDefaultValues here\n      fullData = documentData;\n    }\n    await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_1__.iterateFields)({\n      id,\n      addErrorPathToParent: null,\n      blockData: initialBlockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: dataWithDefaultValues,\n      fields,\n      fieldSchemaMap,\n      fullData,\n      operation,\n      parentIndexPath: '',\n      parentPassesCondition: true,\n      parentPath: '',\n      parentSchemaPath: schemaPath,\n      permissions,\n      preferences,\n      previousFormState,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      skipValidation,\n      state\n    });\n    return state;\n  }\n  return {};\n};\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkU7QUFDeEI7QUFDNUM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0ZBQXNCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0VBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDeUI7QUFDekIiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b3NoL0RvY3VtZW50cy9QbGF0Zm9ybUlPL1Byb2plY3RzL3N0cmFwaTUvbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK3VpQDMuMjMuMF9AdHlwZXMrcmVhY3RAMTkuMC43X21vbmFjby1lZGl0b3JAMC41Mi4yX25leHRAMTUuMS41X3JlYWN0LWRvbUAxOS4wLjBfcl9kam9ieWhlcnM3bTR0ajZndnRyN3d0cGt6ZS9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvdWkvZGlzdC9mb3Jtcy9maWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVEZWZhdWx0VmFsdWVzIH0gZnJvbSAnLi9jYWxjdWxhdGVEZWZhdWx0VmFsdWVzL2luZGV4LmpzJztcbmltcG9ydCB7IGl0ZXJhdGVGaWVsZHMgfSBmcm9tICcuL2l0ZXJhdGVGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlID0gYXN5bmMgKHtcbiAgaWQsXG4gIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICBjb2xsZWN0aW9uU2x1ZyxcbiAgZGF0YSA9IHt9LFxuICBkb2N1bWVudERhdGEsXG4gIGZpZWxkcyxcbiAgZmllbGRTY2hlbWFNYXAsXG4gIGluaXRpYWxCbG9ja0RhdGEsXG4gIG9wZXJhdGlvbixcbiAgcGVybWlzc2lvbnMsXG4gIHByZWZlcmVuY2VzLFxuICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgcmVuZGVyQWxsRmllbGRzLFxuICByZW5kZXJGaWVsZEZuLFxuICByZXEsXG4gIHNjaGVtYVBhdGgsXG4gIHNraXBWYWxpZGF0aW9uXG59KSA9PiB7XG4gIGlmICghY2xpZW50RmllbGRTY2hlbWFNYXAgJiYgcmVuZGVyRmllbGRGbikge1xuICAgIGNvbnNvbGUud2FybignY2xpZW50RmllbGRTY2hlbWFNYXAgaXMgbm90IHBhc3NlZCB0byBmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZSAtIHRoaXMgd2lsbCByZWR1Y2UgcGVyZm9ybWFuY2UnKTtcbiAgfVxuICBpZiAoZmllbGRzICYmIGZpZWxkcy5sZW5ndGgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHt9O1xuICAgIGNvbnN0IGRhdGFXaXRoRGVmYXVsdFZhbHVlcyA9IHtcbiAgICAgIC4uLmRhdGFcbiAgICB9O1xuICAgIGF3YWl0IGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXMoe1xuICAgICAgaWQsXG4gICAgICBkYXRhOiBkYXRhV2l0aERlZmF1bHRWYWx1ZXMsXG4gICAgICBmaWVsZHMsXG4gICAgICBsb2NhbGU6IHJlcS5sb2NhbGUsXG4gICAgICByZXEsXG4gICAgICBzaWJsaW5nRGF0YTogZGF0YVdpdGhEZWZhdWx0VmFsdWVzLFxuICAgICAgdXNlcjogcmVxLnVzZXJcbiAgICB9KTtcbiAgICBsZXQgZnVsbERhdGEgPSBkYXRhV2l0aERlZmF1bHRWYWx1ZXM7XG4gICAgaWYgKGRvY3VtZW50RGF0YSkge1xuICAgICAgLy8gQnkgdGhlIHRpbWUgdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGdldCBmb3JtIHN0YXRlIGZvciBuZXN0ZWQgZm9ybXMsIHRoZWlyIGRlZmF1bHQgdmFsdWVzIHNob3VsZCBoYXZlIGFscmVhZHkgYmVlbiBjYWxjdWxhdGVkXG4gICAgICAvLyA9PiBubyBuZWVkIHRvIHJ1biBjYWxjdWxhdGVEZWZhdWx0VmFsdWVzIGhlcmVcbiAgICAgIGZ1bGxEYXRhID0gZG9jdW1lbnREYXRhO1xuICAgIH1cbiAgICBhd2FpdCBpdGVyYXRlRmllbGRzKHtcbiAgICAgIGlkLFxuICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnQ6IG51bGwsXG4gICAgICBibG9ja0RhdGE6IGluaXRpYWxCbG9ja0RhdGEsXG4gICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgZGF0YTogZGF0YVdpdGhEZWZhdWx0VmFsdWVzLFxuICAgICAgZmllbGRzLFxuICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICBmdWxsRGF0YSxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICBwYXJlbnRQYXNzZXNDb25kaXRpb246IHRydWUsXG4gICAgICBwYXJlbnRQYXRoOiAnJyxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGg6IHNjaGVtYVBhdGgsXG4gICAgICBwZXJtaXNzaW9ucyxcbiAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgcmVxLFxuICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICBzdGF0ZVxuICAgIH0pO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuICByZXR1cm4ge307XG59O1xuZXhwb3J0IHsgaXRlcmF0ZUZpZWxkcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iterateFields: () => (/* binding */ iterateFields)\n/* harmony export */ });\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/getFieldPaths.js\");\n/* harmony import */ var _addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addFieldStatePromise.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js\");\n\n\n/**\n * Flattens the fields schema and fields data\n */\nconst iterateFields = async ({\n  id,\n  addErrorPathToParent: addErrorPathToParentArg,\n  anyParentLocalized = false,\n  blockData,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data,\n  fields,\n  fieldSchemaMap,\n  filter,\n  forceFullValue = false,\n  fullData,\n  includeSchema = false,\n  omitParents = false,\n  operation,\n  parentIndexPath,\n  parentPassesCondition = true,\n  parentPath,\n  parentSchemaPath,\n  permissions,\n  preferences,\n  previousFormState,\n  renderAllFields,\n  renderFieldFn: renderFieldFn,\n  req,\n  skipConditionChecks = false,\n  skipValidation = false,\n  state = {}\n}) => {\n  const promises = [];\n  fields.forEach((field, fieldIndex) => {\n    let passesCondition = true;\n    const {\n      indexPath,\n      path,\n      schemaPath\n    } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.getFieldPaths)({\n      field,\n      index: fieldIndex,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath,\n      parentSchemaPath\n    });\n    if (!skipConditionChecks) {\n      try {\n        passesCondition = Boolean((field?.admin?.condition ? Boolean(field.admin.condition(fullData || {}, data || {}, {\n          blockData,\n          user: req.user\n        })) : true) && parentPassesCondition);\n      } catch (err) {\n        passesCondition = false;\n        req.payload.logger.error({\n          err,\n          msg: `Error evaluating field condition at path: ${path}`\n        });\n      }\n    }\n    promises.push((0,_addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_1__.addFieldStatePromise)({\n      id,\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      field,\n      fieldIndex,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      indexPath,\n      omitParents,\n      operation,\n      parentIndexPath,\n      parentPath,\n      parentPermissions: permissions,\n      parentSchemaPath,\n      passesCondition,\n      path,\n      preferences,\n      previousFormState,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      schemaPath,\n      skipConditionChecks,\n      skipValidation,\n      state\n    }));\n  });\n  await Promise.all(promises);\n};\n//# sourceMappingURL=iterateFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2l0ZXJhdGVGaWVsZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBQ2tCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUUsNkRBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUdBQXlHLFlBQVk7QUFDckg7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEtBQUs7QUFDakUsU0FBUztBQUNUO0FBQ0E7QUFDQSxrQkFBa0IsOEVBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3Rvc2gvRG9jdW1lbnRzL1BsYXRmb3JtSU8vUHJvamVjdHMvc3RyYXBpNS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2l0ZXJhdGVGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RmllbGRQYXRocyB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmltcG9ydCB7IGFkZEZpZWxkU3RhdGVQcm9taXNlIH0gZnJvbSAnLi9hZGRGaWVsZFN0YXRlUHJvbWlzZS5qcyc7XG4vKipcbiAqIEZsYXR0ZW5zIHRoZSBmaWVsZHMgc2NoZW1hIGFuZCBmaWVsZHMgZGF0YVxuICovXG5leHBvcnQgY29uc3QgaXRlcmF0ZUZpZWxkcyA9IGFzeW5jICh7XG4gIGlkLFxuICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gIGFueVBhcmVudExvY2FsaXplZCA9IGZhbHNlLFxuICBibG9ja0RhdGEsXG4gIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICBjb2xsZWN0aW9uU2x1ZyxcbiAgZGF0YSxcbiAgZmllbGRzLFxuICBmaWVsZFNjaGVtYU1hcCxcbiAgZmlsdGVyLFxuICBmb3JjZUZ1bGxWYWx1ZSA9IGZhbHNlLFxuICBmdWxsRGF0YSxcbiAgaW5jbHVkZVNjaGVtYSA9IGZhbHNlLFxuICBvbWl0UGFyZW50cyA9IGZhbHNlLFxuICBvcGVyYXRpb24sXG4gIHBhcmVudEluZGV4UGF0aCxcbiAgcGFyZW50UGFzc2VzQ29uZGl0aW9uID0gdHJ1ZSxcbiAgcGFyZW50UGF0aCxcbiAgcGFyZW50U2NoZW1hUGF0aCxcbiAgcGVybWlzc2lvbnMsXG4gIHByZWZlcmVuY2VzLFxuICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgcmVuZGVyQWxsRmllbGRzLFxuICByZW5kZXJGaWVsZEZuOiByZW5kZXJGaWVsZEZuLFxuICByZXEsXG4gIHNraXBDb25kaXRpb25DaGVja3MgPSBmYWxzZSxcbiAgc2tpcFZhbGlkYXRpb24gPSBmYWxzZSxcbiAgc3RhdGUgPSB7fVxufSkgPT4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBmaWVsZHMuZm9yRWFjaCgoZmllbGQsIGZpZWxkSW5kZXgpID0+IHtcbiAgICBsZXQgcGFzc2VzQ29uZGl0aW9uID0gdHJ1ZTtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleFBhdGgsXG4gICAgICBwYXRoLFxuICAgICAgc2NoZW1hUGF0aFxuICAgIH0gPSBnZXRGaWVsZFBhdGhzKHtcbiAgICAgIGZpZWxkLFxuICAgICAgaW5kZXg6IGZpZWxkSW5kZXgsXG4gICAgICBwYXJlbnRJbmRleFBhdGg6ICduYW1lJyBpbiBmaWVsZCA/ICcnIDogcGFyZW50SW5kZXhQYXRoLFxuICAgICAgcGFyZW50UGF0aCxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGhcbiAgICB9KTtcbiAgICBpZiAoIXNraXBDb25kaXRpb25DaGVja3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhc3Nlc0NvbmRpdGlvbiA9IEJvb2xlYW4oKGZpZWxkPy5hZG1pbj8uY29uZGl0aW9uID8gQm9vbGVhbihmaWVsZC5hZG1pbi5jb25kaXRpb24oZnVsbERhdGEgfHwge30sIGRhdGEgfHwge30sIHtcbiAgICAgICAgICBibG9ja0RhdGEsXG4gICAgICAgICAgdXNlcjogcmVxLnVzZXJcbiAgICAgICAgfSkpIDogdHJ1ZSkgJiYgcGFyZW50UGFzc2VzQ29uZGl0aW9uKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBwYXNzZXNDb25kaXRpb24gPSBmYWxzZTtcbiAgICAgICAgcmVxLnBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAgbXNnOiBgRXJyb3IgZXZhbHVhdGluZyBmaWVsZCBjb25kaXRpb24gYXQgcGF0aDogJHtwYXRofWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHByb21pc2VzLnB1c2goYWRkRmllbGRTdGF0ZVByb21pc2Uoe1xuICAgICAgaWQsXG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICBibG9ja0RhdGEsXG4gICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgZGF0YSxcbiAgICAgIGZpZWxkLFxuICAgICAgZmllbGRJbmRleCxcbiAgICAgIGZpZWxkU2NoZW1hTWFwLFxuICAgICAgZmlsdGVyLFxuICAgICAgZm9yY2VGdWxsVmFsdWUsXG4gICAgICBmdWxsRGF0YSxcbiAgICAgIGluY2x1ZGVTY2hlbWEsXG4gICAgICBpbmRleFBhdGgsXG4gICAgICBvbWl0UGFyZW50cyxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudEluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRQZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoLFxuICAgICAgcGFzc2VzQ29uZGl0aW9uLFxuICAgICAgcGF0aCxcbiAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgcmVxLFxuICAgICAgc2NoZW1hUGF0aCxcbiAgICAgIHNraXBDb25kaXRpb25DaGVja3MsXG4gICAgICBza2lwVmFsaWRhdGlvbixcbiAgICAgIHN0YXRlXG4gICAgfSkpO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdGVGaWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traverseFields: () => (/* binding */ traverseFields)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/errors/MissingEditorProp.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/getFieldPaths.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.23.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n\n\nconst traverseFields = ({\n  config,\n  fields,\n  i18n,\n  parentIndexPath,\n  parentSchemaPath,\n  schemaMap\n}) => {\n  for (const [index, field] of fields.entries()) {\n    const {\n      indexPath,\n      schemaPath\n    } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.getFieldPaths)({\n      field,\n      index,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath: '',\n      parentSchemaPath\n    });\n    schemaMap.set(schemaPath, field);\n    switch (field.type) {\n      case 'array':\n      case 'group':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: '',\n          parentSchemaPath: schemaPath,\n          schemaMap\n        });\n        break;\n      case 'blocks':\n        field.blocks.map(block => {\n          const blockSchemaPath = `${schemaPath}.${block.slug}`;\n          schemaMap.set(blockSchemaPath, block);\n          traverseFields({\n            config,\n            fields: block.fields,\n            i18n,\n            parentIndexPath: '',\n            parentSchemaPath: blockSchemaPath,\n            schemaMap\n          });\n        });\n        break;\n      case 'collapsible':\n      case 'row':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: indexPath,\n          parentSchemaPath,\n          schemaMap\n        });\n        break;\n      case 'richText':\n        if (!field?.editor) {\n          throw new payload__WEBPACK_IMPORTED_MODULE_1__.MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n          ;\n        }\n        if (typeof field.editor === 'function') {\n          throw new Error('Attempted to access unsanitized rich text editor.');\n        }\n        if (typeof field.editor.generateSchemaMap === 'function') {\n          field.editor.generateSchemaMap({\n            config,\n            field,\n            i18n,\n            schemaMap,\n            schemaPath\n          });\n        }\n        break;\n      case 'tabs':\n        field.tabs.map((tab, tabIndex) => {\n          const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.tabHasName)(tab);\n          const {\n            indexPath: tabIndexPath,\n            schemaPath: tabSchemaPath\n          } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.getFieldPaths)({\n            field: {\n              ...tab,\n              type: 'tab'\n            },\n            index: tabIndex,\n            parentIndexPath: indexPath,\n            parentPath: '',\n            parentSchemaPath\n          });\n          schemaMap.set(tabSchemaPath, tab);\n          traverseFields({\n            config,\n            fields: tab.fields,\n            i18n,\n            parentIndexPath: isNamedTab ? '' : tabIndexPath,\n            parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n            schemaMap\n          });\n        });\n        break;\n    }\n  }\n};\n//# sourceMappingURL=traverseFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L3V0aWxpdGllcy9idWlsZEZpZWxkU2NoZW1hTWFwL3RyYXZlcnNlRmllbGRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDZTtBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sRUFBRSw2REFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFdBQVcsR0FBRyxXQUFXO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBEQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLFlBQVksRUFBRSw2REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3Rvc2gvRG9jdW1lbnRzL1BsYXRmb3JtSU8vUHJvamVjdHMvc3RyYXBpNS9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy4yMy4wX0B0eXBlcytyZWFjdEAxOS4wLjdfbW9uYWNvLWVkaXRvckAwLjUyLjJfbmV4dEAxNS4xLjVfcmVhY3QtZG9tQDE5LjAuMF9yX2Rqb2J5aGVyczdtNHRqNmd2dHI3d3Rwa3plL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L3V0aWxpdGllcy9idWlsZEZpZWxkU2NoZW1hTWFwL3RyYXZlcnNlRmllbGRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1pc3NpbmdFZGl0b3JQcm9wIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBnZXRGaWVsZFBhdGhzLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuZXhwb3J0IGNvbnN0IHRyYXZlcnNlRmllbGRzID0gKHtcbiAgY29uZmlnLFxuICBmaWVsZHMsXG4gIGkxOG4sXG4gIHBhcmVudEluZGV4UGF0aCxcbiAgcGFyZW50U2NoZW1hUGF0aCxcbiAgc2NoZW1hTWFwXG59KSA9PiB7XG4gIGZvciAoY29uc3QgW2luZGV4LCBmaWVsZF0gb2YgZmllbGRzLmVudHJpZXMoKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluZGV4UGF0aCxcbiAgICAgIHNjaGVtYVBhdGhcbiAgICB9ID0gZ2V0RmllbGRQYXRocyh7XG4gICAgICBmaWVsZCxcbiAgICAgIGluZGV4LFxuICAgICAgcGFyZW50SW5kZXhQYXRoOiAnbmFtZScgaW4gZmllbGQgPyAnJyA6IHBhcmVudEluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhdGg6ICcnLFxuICAgICAgcGFyZW50U2NoZW1hUGF0aFxuICAgIH0pO1xuICAgIHNjaGVtYU1hcC5zZXQoc2NoZW1hUGF0aCwgZmllbGQpO1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiAnJyxcbiAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBzY2hlbWFQYXRoLFxuICAgICAgICAgIHNjaGVtYU1hcFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdibG9ja3MnOlxuICAgICAgICBmaWVsZC5ibG9ja3MubWFwKGJsb2NrID0+IHtcbiAgICAgICAgICBjb25zdCBibG9ja1NjaGVtYVBhdGggPSBgJHtzY2hlbWFQYXRofS4ke2Jsb2NrLnNsdWd9YDtcbiAgICAgICAgICBzY2hlbWFNYXAuc2V0KGJsb2NrU2NoZW1hUGF0aCwgYmxvY2spO1xuICAgICAgICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogYmxvY2suZmllbGRzLFxuICAgICAgICAgICAgaTE4bixcbiAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBibG9ja1NjaGVtYVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29sbGFwc2libGUnOlxuICAgICAgY2FzZSAncm93JzpcbiAgICAgICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICBpMThuLFxuICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogaW5kZXhQYXRoLFxuICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICAgICAgc2NoZW1hTWFwXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JpY2hUZXh0JzpcbiAgICAgICAgaWYgKCFmaWVsZD8uZWRpdG9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdFZGl0b3JQcm9wKGZpZWxkKSAvLyB3aGlsZSB3ZSBhbGxvdyBkaXNhYmxpbmcgZWRpdG9yIGZ1bmN0aW9uYWxpdHksIHlvdSBzaG91bGQgbm90IGhhdmUgYW55IHJpY2hUZXh0IGZpZWxkcyBkZWZpbmVkIGlmIHlvdSBkbyBub3QgaGF2ZSBhbiBlZGl0b3JcbiAgICAgICAgICA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZC5lZGl0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBhY2Nlc3MgdW5zYW5pdGl6ZWQgcmljaCB0ZXh0IGVkaXRvci4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmVkaXRvci5nZW5lcmF0ZVNjaGVtYU1hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZpZWxkLmVkaXRvci5nZW5lcmF0ZVNjaGVtYU1hcCh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgICBzY2hlbWFNYXAsXG4gICAgICAgICAgICBzY2hlbWFQYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0YWJzJzpcbiAgICAgICAgZmllbGQudGFicy5tYXAoKHRhYiwgdGFiSW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpc05hbWVkVGFiID0gdGFiSGFzTmFtZSh0YWIpO1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGluZGV4UGF0aDogdGFiSW5kZXhQYXRoLFxuICAgICAgICAgICAgc2NoZW1hUGF0aDogdGFiU2NoZW1hUGF0aFxuICAgICAgICAgIH0gPSBnZXRGaWVsZFBhdGhzKHtcbiAgICAgICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgICAgIC4uLnRhYixcbiAgICAgICAgICAgICAgdHlwZTogJ3RhYidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRleDogdGFiSW5kZXgsXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6IGluZGV4UGF0aCxcbiAgICAgICAgICAgIHBhcmVudFBhdGg6ICcnLFxuICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNjaGVtYU1hcC5zZXQodGFiU2NoZW1hUGF0aCwgdGFiKTtcbiAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmaWVsZHM6IHRhYi5maWVsZHMsXG4gICAgICAgICAgICBpMThuLFxuICAgICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpc05hbWVkVGFiID8gJycgOiB0YWJJbmRleFBhdGgsXG4gICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBpc05hbWVkVGFiID8gdGFiU2NoZW1hUGF0aCA6IHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYXZlcnNlRmllbGRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.23.0_@types+react@19.0.7_monaco-editor@0.52.2_next@15.1.5_react-dom@19.0.0_r_djobyhers7m4tj6gvtr7wtpkze/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js\n");

/***/ })

};
;