"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@aws-sdk+middleware-flexible-checksums@3.750.0";
exports.ids = ["vendor-chunks/@aws-sdk+middleware-flexible-checksums@3.750.0"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/getCrc32ChecksumAlgorithmFunction.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/getCrc32ChecksumAlgorithmFunction.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getCrc32ChecksumAlgorithmFunction = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\nconst crc32_1 = __webpack_require__(/*! @aws-crypto/crc32 */ \"(rsc)/./node_modules/.pnpm/@aws-crypto+crc32@5.2.0/node_modules/@aws-crypto/crc32/build/module/index.js\");\nconst util_1 = __webpack_require__(/*! @aws-crypto/util */ \"(rsc)/./node_modules/.pnpm/@aws-crypto+util@5.2.0/node_modules/@aws-crypto/util/build/module/index.js\");\nconst zlib = tslib_1.__importStar(__webpack_require__(/*! zlib */ \"zlib\"));\nclass NodeCrc32 {\n    checksum = 0;\n    update(data) {\n        this.checksum = zlib.crc32(data, this.checksum);\n    }\n    async digest() {\n        return (0, util_1.numToUint8)(this.checksum);\n    }\n    reset() {\n        this.checksum = 0;\n    }\n}\nconst getCrc32ChecksumAlgorithmFunction = () => {\n    if (typeof zlib.crc32 === \"undefined\") {\n        return crc32_1.AwsCrc32;\n    }\n    return NodeCrc32;\n};\nexports.getCrc32ChecksumAlgorithmFunction = getCrc32ChecksumAlgorithmFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1mbGV4aWJsZS1jaGVja3N1bXNAMy43NTAuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1mbGV4aWJsZS1jaGVja3N1bXMvZGlzdC1janMvZ2V0Q3JjMzJDaGVja3N1bUFsZ29yaXRobUZ1bmN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlDQUF5QztBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyxzRkFBTztBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyxrSUFBbUI7QUFDM0MsZUFBZSxtQkFBTyxDQUFDLCtIQUFrQjtBQUN6QyxrQ0FBa0MsbUJBQU8sQ0FBQyxrQkFBTTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b3NoL0RvY3VtZW50cy9QbGF0Zm9ybUlPL1Byb2plY3RzL3N0cmFwaTUvbm9kZV9tb2R1bGVzLy5wbnBtL0Bhd3Mtc2RrK21pZGRsZXdhcmUtZmxleGlibGUtY2hlY2tzdW1zQDMuNzUwLjAvbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtZmxleGlibGUtY2hlY2tzdW1zL2Rpc3QtY2pzL2dldENyYzMyQ2hlY2tzdW1BbGdvcml0aG1GdW5jdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Q3JjMzJDaGVja3N1bUFsZ29yaXRobUZ1bmN0aW9uID0gdm9pZCAwO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbmNvbnN0IGNyYzMyXzEgPSByZXF1aXJlKFwiQGF3cy1jcnlwdG8vY3JjMzJcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiQGF3cy1jcnlwdG8vdXRpbFwiKTtcbmNvbnN0IHpsaWIgPSB0c2xpYl8xLl9faW1wb3J0U3RhcihyZXF1aXJlKFwiemxpYlwiKSk7XG5jbGFzcyBOb2RlQ3JjMzIge1xuICAgIGNoZWNrc3VtID0gMDtcbiAgICB1cGRhdGUoZGF0YSkge1xuICAgICAgICB0aGlzLmNoZWNrc3VtID0gemxpYi5jcmMzMihkYXRhLCB0aGlzLmNoZWNrc3VtKTtcbiAgICB9XG4gICAgYXN5bmMgZGlnZXN0KCkge1xuICAgICAgICByZXR1cm4gKDAsIHV0aWxfMS5udW1Ub1VpbnQ4KSh0aGlzLmNoZWNrc3VtKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuY2hlY2tzdW0gPSAwO1xuICAgIH1cbn1cbmNvbnN0IGdldENyYzMyQ2hlY2tzdW1BbGdvcml0aG1GdW5jdGlvbiA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHpsaWIuY3JjMzIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGNyYzMyXzEuQXdzQ3JjMzI7XG4gICAgfVxuICAgIHJldHVybiBOb2RlQ3JjMzI7XG59O1xuZXhwb3J0cy5nZXRDcmMzMkNoZWNrc3VtQWxnb3JpdGhtRnVuY3Rpb24gPSBnZXRDcmMzMkNoZWNrc3VtQWxnb3JpdGhtRnVuY3Rpb247XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/getCrc32ChecksumAlgorithmFunction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js ***!
  \*************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  CONFIG_REQUEST_CHECKSUM_CALCULATION: () => CONFIG_REQUEST_CHECKSUM_CALCULATION,\n  CONFIG_RESPONSE_CHECKSUM_VALIDATION: () => CONFIG_RESPONSE_CHECKSUM_VALIDATION,\n  ChecksumAlgorithm: () => ChecksumAlgorithm,\n  ChecksumLocation: () => ChecksumLocation,\n  DEFAULT_CHECKSUM_ALGORITHM: () => DEFAULT_CHECKSUM_ALGORITHM,\n  DEFAULT_REQUEST_CHECKSUM_CALCULATION: () => DEFAULT_REQUEST_CHECKSUM_CALCULATION,\n  DEFAULT_RESPONSE_CHECKSUM_VALIDATION: () => DEFAULT_RESPONSE_CHECKSUM_VALIDATION,\n  ENV_REQUEST_CHECKSUM_CALCULATION: () => ENV_REQUEST_CHECKSUM_CALCULATION,\n  ENV_RESPONSE_CHECKSUM_VALIDATION: () => ENV_RESPONSE_CHECKSUM_VALIDATION,\n  NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS: () => NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,\n  NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS: () => NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,\n  RequestChecksumCalculation: () => RequestChecksumCalculation,\n  ResponseChecksumValidation: () => ResponseChecksumValidation,\n  crc64NvmeCrtContainer: () => crc64NvmeCrtContainer,\n  flexibleChecksumsMiddleware: () => flexibleChecksumsMiddleware,\n  flexibleChecksumsMiddlewareOptions: () => flexibleChecksumsMiddlewareOptions,\n  getFlexibleChecksumsPlugin: () => getFlexibleChecksumsPlugin,\n  resolveFlexibleChecksumsConfig: () => resolveFlexibleChecksumsConfig\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/constants.ts\nvar RequestChecksumCalculation = {\n  /**\n   * When set, a checksum will be calculated for all request payloads of operations\n   * modeled with the {@link httpChecksum} trait where `requestChecksumRequired` is `true`\n   * AND/OR a `requestAlgorithmMember` is modeled.\n   * {@link https://smithy.io/2.0/aws/aws-core.html#aws-protocols-httpchecksum-trait httpChecksum}\n   */\n  WHEN_SUPPORTED: \"WHEN_SUPPORTED\",\n  /**\n   * When set, a checksum will only be calculated for request payloads of operations\n   * modeled with the {@link httpChecksum} trait where `requestChecksumRequired` is `true`\n   * OR where a `requestAlgorithmMember` is modeled and the user sets it.\n   * {@link https://smithy.io/2.0/aws/aws-core.html#aws-protocols-httpchecksum-trait httpChecksum}\n   */\n  WHEN_REQUIRED: \"WHEN_REQUIRED\"\n};\nvar DEFAULT_REQUEST_CHECKSUM_CALCULATION = RequestChecksumCalculation.WHEN_SUPPORTED;\nvar ResponseChecksumValidation = {\n  /**\n   * When set, checksum validation MUST be performed on all response payloads of operations\n   * modeled with the {@link httpChecksum} trait where `responseAlgorithms` is modeled,\n   * except when no modeled checksum algorithms are supported by an SDK.\n   * {@link https://smithy.io/2.0/aws/aws-core.html#aws-protocols-httpchecksum-trait httpChecksum}\n   */\n  WHEN_SUPPORTED: \"WHEN_SUPPORTED\",\n  /**\n   * When set, checksum validation MUST NOT be performed on response payloads of operations UNLESS\n   * the SDK supports the modeled checksum algorithms AND the user has set the `requestValidationModeMember` to `ENABLED`.\n   * It is currently impossible to model an operation as requiring a response checksum,\n   * but this setting leaves the door open for future updates.\n   */\n  WHEN_REQUIRED: \"WHEN_REQUIRED\"\n};\nvar DEFAULT_RESPONSE_CHECKSUM_VALIDATION = RequestChecksumCalculation.WHEN_SUPPORTED;\nvar ChecksumAlgorithm = /* @__PURE__ */ ((ChecksumAlgorithm3) => {\n  ChecksumAlgorithm3[\"MD5\"] = \"MD5\";\n  ChecksumAlgorithm3[\"CRC32\"] = \"CRC32\";\n  ChecksumAlgorithm3[\"CRC32C\"] = \"CRC32C\";\n  ChecksumAlgorithm3[\"CRC64NVME\"] = \"CRC64NVME\";\n  ChecksumAlgorithm3[\"SHA1\"] = \"SHA1\";\n  ChecksumAlgorithm3[\"SHA256\"] = \"SHA256\";\n  return ChecksumAlgorithm3;\n})(ChecksumAlgorithm || {});\nvar ChecksumLocation = /* @__PURE__ */ ((ChecksumLocation2) => {\n  ChecksumLocation2[\"HEADER\"] = \"header\";\n  ChecksumLocation2[\"TRAILER\"] = \"trailer\";\n  return ChecksumLocation2;\n})(ChecksumLocation || {});\nvar DEFAULT_CHECKSUM_ALGORITHM = \"CRC32\" /* CRC32 */;\n\n// src/stringUnionSelector.ts\nvar stringUnionSelector = /* @__PURE__ */ __name((obj, key, union, type) => {\n  if (!(key in obj))\n    return void 0;\n  const value = obj[key].toUpperCase();\n  if (!Object.values(union).includes(value)) {\n    throw new TypeError(`Cannot load ${type} '${key}'. Expected one of ${Object.values(union)}, got '${obj[key]}'.`);\n  }\n  return value;\n}, \"stringUnionSelector\");\n\n// src/NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS.ts\nvar ENV_REQUEST_CHECKSUM_CALCULATION = \"AWS_REQUEST_CHECKSUM_CALCULATION\";\nvar CONFIG_REQUEST_CHECKSUM_CALCULATION = \"request_checksum_calculation\";\nvar NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS = {\n  environmentVariableSelector: (env) => stringUnionSelector(env, ENV_REQUEST_CHECKSUM_CALCULATION, RequestChecksumCalculation, \"env\" /* ENV */),\n  configFileSelector: (profile) => stringUnionSelector(profile, CONFIG_REQUEST_CHECKSUM_CALCULATION, RequestChecksumCalculation, \"shared config entry\" /* CONFIG */),\n  default: DEFAULT_REQUEST_CHECKSUM_CALCULATION\n};\n\n// src/NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS.ts\nvar ENV_RESPONSE_CHECKSUM_VALIDATION = \"AWS_RESPONSE_CHECKSUM_VALIDATION\";\nvar CONFIG_RESPONSE_CHECKSUM_VALIDATION = \"response_checksum_validation\";\nvar NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS = {\n  environmentVariableSelector: (env) => stringUnionSelector(env, ENV_RESPONSE_CHECKSUM_VALIDATION, ResponseChecksumValidation, \"env\" /* ENV */),\n  configFileSelector: (profile) => stringUnionSelector(profile, CONFIG_RESPONSE_CHECKSUM_VALIDATION, ResponseChecksumValidation, \"shared config entry\" /* CONFIG */),\n  default: DEFAULT_RESPONSE_CHECKSUM_VALIDATION\n};\n\n// src/crc64-nvme-crt-container.ts\nvar crc64NvmeCrtContainer = {\n  CrtCrc64Nvme: null\n};\n\n// src/flexibleChecksumsMiddleware.ts\nvar import_core = __webpack_require__(/*! @aws-sdk/core */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+core@3.750.0/node_modules/@aws-sdk/core/dist-es/index.js\");\nvar import_protocol_http = __webpack_require__(/*! @smithy/protocol-http */ \"(rsc)/./node_modules/.pnpm/@smithy+protocol-http@5.0.1/node_modules/@smithy/protocol-http/dist-es/index.js\");\nvar import_util_stream = __webpack_require__(/*! @smithy/util-stream */ \"(rsc)/./node_modules/.pnpm/@smithy+util-stream@4.1.1/node_modules/@smithy/util-stream/dist-es/index.js\");\n\n// src/types.ts\nvar CLIENT_SUPPORTED_ALGORITHMS = [\n  \"CRC32\" /* CRC32 */,\n  \"CRC32C\" /* CRC32C */,\n  \"CRC64NVME\" /* CRC64NVME */,\n  \"SHA1\" /* SHA1 */,\n  \"SHA256\" /* SHA256 */\n];\nvar PRIORITY_ORDER_ALGORITHMS = [\n  \"SHA256\" /* SHA256 */,\n  \"SHA1\" /* SHA1 */,\n  \"CRC32\" /* CRC32 */,\n  \"CRC32C\" /* CRC32C */,\n  \"CRC64NVME\" /* CRC64NVME */\n];\n\n// src/getChecksumAlgorithmForRequest.ts\nvar getChecksumAlgorithmForRequest = /* @__PURE__ */ __name((input, { requestChecksumRequired, requestAlgorithmMember, requestChecksumCalculation }) => {\n  if (!requestAlgorithmMember) {\n    return requestChecksumCalculation === RequestChecksumCalculation.WHEN_SUPPORTED || requestChecksumRequired ? DEFAULT_CHECKSUM_ALGORITHM : void 0;\n  }\n  if (!input[requestAlgorithmMember]) {\n    return void 0;\n  }\n  const checksumAlgorithm = input[requestAlgorithmMember];\n  if (!CLIENT_SUPPORTED_ALGORITHMS.includes(checksumAlgorithm)) {\n    throw new Error(\n      `The checksum algorithm \"${checksumAlgorithm}\" is not supported by the client. Select one of ${CLIENT_SUPPORTED_ALGORITHMS}.`\n    );\n  }\n  return checksumAlgorithm;\n}, \"getChecksumAlgorithmForRequest\");\n\n// src/getChecksumLocationName.ts\nvar getChecksumLocationName = /* @__PURE__ */ __name((algorithm) => algorithm === \"MD5\" /* MD5 */ ? \"content-md5\" : `x-amz-checksum-${algorithm.toLowerCase()}`, \"getChecksumLocationName\");\n\n// src/hasHeader.ts\nvar hasHeader = /* @__PURE__ */ __name((header, headers) => {\n  const soughtHeader = header.toLowerCase();\n  for (const headerName of Object.keys(headers)) {\n    if (soughtHeader === headerName.toLowerCase()) {\n      return true;\n    }\n  }\n  return false;\n}, \"hasHeader\");\n\n// src/hasHeaderWithPrefix.ts\nvar hasHeaderWithPrefix = /* @__PURE__ */ __name((headerPrefix, headers) => {\n  const soughtHeaderPrefix = headerPrefix.toLowerCase();\n  for (const headerName of Object.keys(headers)) {\n    if (headerName.toLowerCase().startsWith(soughtHeaderPrefix)) {\n      return true;\n    }\n  }\n  return false;\n}, \"hasHeaderWithPrefix\");\n\n// src/isStreaming.ts\nvar import_is_array_buffer = __webpack_require__(/*! @smithy/is-array-buffer */ \"(rsc)/./node_modules/.pnpm/@smithy+is-array-buffer@4.0.0/node_modules/@smithy/is-array-buffer/dist-es/index.js\");\nvar isStreaming = /* @__PURE__ */ __name((body) => body !== void 0 && typeof body !== \"string\" && !ArrayBuffer.isView(body) && !(0, import_is_array_buffer.isArrayBuffer)(body), \"isStreaming\");\n\n// src/selectChecksumAlgorithmFunction.ts\nvar import_crc32c = __webpack_require__(/*! @aws-crypto/crc32c */ \"(rsc)/./node_modules/.pnpm/@aws-crypto+crc32c@5.2.0/node_modules/@aws-crypto/crc32c/build/module/index.js\");\nvar import_getCrc32ChecksumAlgorithmFunction = __webpack_require__(/*! ././getCrc32ChecksumAlgorithmFunction */ \"(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/getCrc32ChecksumAlgorithmFunction.js\");\nvar selectChecksumAlgorithmFunction = /* @__PURE__ */ __name((checksumAlgorithm, config) => {\n  switch (checksumAlgorithm) {\n    case \"MD5\" /* MD5 */:\n      return config.md5;\n    case \"CRC32\" /* CRC32 */:\n      return (0, import_getCrc32ChecksumAlgorithmFunction.getCrc32ChecksumAlgorithmFunction)();\n    case \"CRC32C\" /* CRC32C */:\n      return import_crc32c.AwsCrc32c;\n    case \"CRC64NVME\" /* CRC64NVME */:\n      if (typeof crc64NvmeCrtContainer.CrtCrc64Nvme !== \"function\") {\n        throw new Error(\n          `Please check whether you have installed the \"@aws-sdk/crc64-nvme-crt\" package explicitly. \nYou must also register the package by calling [require(\"@aws-sdk/crc64-nvme-crt\");] or an ESM equivalent such as [import \"@aws-sdk/crc64-nvme-crt\";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`\n        );\n      }\n      return crc64NvmeCrtContainer.CrtCrc64Nvme;\n    case \"SHA1\" /* SHA1 */:\n      return config.sha1;\n    case \"SHA256\" /* SHA256 */:\n      return config.sha256;\n    default:\n      throw new Error(`Unsupported checksum algorithm: ${checksumAlgorithm}`);\n  }\n}, \"selectChecksumAlgorithmFunction\");\n\n// src/stringHasher.ts\nvar import_util_utf8 = __webpack_require__(/*! @smithy/util-utf8 */ \"(rsc)/./node_modules/.pnpm/@smithy+util-utf8@4.0.0/node_modules/@smithy/util-utf8/dist-es/index.js\");\nvar stringHasher = /* @__PURE__ */ __name((checksumAlgorithmFn, body) => {\n  const hash = new checksumAlgorithmFn();\n  hash.update((0, import_util_utf8.toUint8Array)(body || \"\"));\n  return hash.digest();\n}, \"stringHasher\");\n\n// src/flexibleChecksumsMiddleware.ts\nvar flexibleChecksumsMiddlewareOptions = {\n  name: \"flexibleChecksumsMiddleware\",\n  step: \"build\",\n  tags: [\"BODY_CHECKSUM\"],\n  override: true\n};\nvar flexibleChecksumsMiddleware = /* @__PURE__ */ __name((config, middlewareConfig) => (next, context) => async (args) => {\n  if (!import_protocol_http.HttpRequest.isInstance(args.request)) {\n    return next(args);\n  }\n  if (hasHeaderWithPrefix(\"x-amz-checksum-\", args.request.headers)) {\n    return next(args);\n  }\n  const { request, input } = args;\n  const { body: requestBody, headers } = request;\n  const { base64Encoder, streamHasher } = config;\n  const { requestChecksumRequired, requestAlgorithmMember } = middlewareConfig;\n  const requestChecksumCalculation = await config.requestChecksumCalculation();\n  const requestAlgorithmMemberName = requestAlgorithmMember?.name;\n  const requestAlgorithmMemberHttpHeader = requestAlgorithmMember?.httpHeader;\n  if (requestAlgorithmMemberName && !input[requestAlgorithmMemberName]) {\n    if (requestChecksumCalculation === RequestChecksumCalculation.WHEN_SUPPORTED || requestChecksumRequired) {\n      input[requestAlgorithmMemberName] = DEFAULT_CHECKSUM_ALGORITHM;\n      if (requestAlgorithmMemberHttpHeader) {\n        headers[requestAlgorithmMemberHttpHeader] = DEFAULT_CHECKSUM_ALGORITHM;\n      }\n    }\n  }\n  const checksumAlgorithm = getChecksumAlgorithmForRequest(input, {\n    requestChecksumRequired,\n    requestAlgorithmMember: requestAlgorithmMember?.name,\n    requestChecksumCalculation\n  });\n  let updatedBody = requestBody;\n  let updatedHeaders = headers;\n  if (checksumAlgorithm) {\n    switch (checksumAlgorithm) {\n      case \"CRC32\" /* CRC32 */:\n        (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_CRC32\", \"U\");\n        break;\n      case \"CRC32C\" /* CRC32C */:\n        (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_CRC32C\", \"V\");\n        break;\n      case \"CRC64NVME\" /* CRC64NVME */:\n        (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_CRC64\", \"W\");\n        break;\n      case \"SHA1\" /* SHA1 */:\n        (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_SHA1\", \"X\");\n        break;\n      case \"SHA256\" /* SHA256 */:\n        (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_SHA256\", \"Y\");\n        break;\n    }\n    const checksumLocationName = getChecksumLocationName(checksumAlgorithm);\n    const checksumAlgorithmFn = selectChecksumAlgorithmFunction(checksumAlgorithm, config);\n    if (isStreaming(requestBody)) {\n      const { getAwsChunkedEncodingStream, bodyLengthChecker } = config;\n      updatedBody = getAwsChunkedEncodingStream(\n        typeof config.requestStreamBufferSize === \"number\" && config.requestStreamBufferSize >= 8 * 1024 ? (0, import_util_stream.createBufferedReadable)(requestBody, config.requestStreamBufferSize, context.logger) : requestBody,\n        {\n          base64Encoder,\n          bodyLengthChecker,\n          checksumLocationName,\n          checksumAlgorithmFn,\n          streamHasher\n        }\n      );\n      updatedHeaders = {\n        ...headers,\n        \"content-encoding\": headers[\"content-encoding\"] ? `${headers[\"content-encoding\"]},aws-chunked` : \"aws-chunked\",\n        \"transfer-encoding\": \"chunked\",\n        \"x-amz-decoded-content-length\": headers[\"content-length\"],\n        \"x-amz-content-sha256\": \"STREAMING-UNSIGNED-PAYLOAD-TRAILER\",\n        \"x-amz-trailer\": checksumLocationName\n      };\n      delete updatedHeaders[\"content-length\"];\n    } else if (!hasHeader(checksumLocationName, headers)) {\n      const rawChecksum = await stringHasher(checksumAlgorithmFn, requestBody);\n      updatedHeaders = {\n        ...headers,\n        [checksumLocationName]: base64Encoder(rawChecksum)\n      };\n    }\n  }\n  const result = await next({\n    ...args,\n    request: {\n      ...request,\n      headers: updatedHeaders,\n      body: updatedBody\n    }\n  });\n  return result;\n}, \"flexibleChecksumsMiddleware\");\n\n// src/flexibleChecksumsInputMiddleware.ts\n\nvar flexibleChecksumsInputMiddlewareOptions = {\n  name: \"flexibleChecksumsInputMiddleware\",\n  toMiddleware: \"serializerMiddleware\",\n  relation: \"before\",\n  tags: [\"BODY_CHECKSUM\"],\n  override: true\n};\nvar flexibleChecksumsInputMiddleware = /* @__PURE__ */ __name((config, middlewareConfig) => (next, context) => async (args) => {\n  const input = args.input;\n  const { requestValidationModeMember } = middlewareConfig;\n  const requestChecksumCalculation = await config.requestChecksumCalculation();\n  const responseChecksumValidation = await config.responseChecksumValidation();\n  switch (requestChecksumCalculation) {\n    case RequestChecksumCalculation.WHEN_REQUIRED:\n      (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED\", \"a\");\n      break;\n    case RequestChecksumCalculation.WHEN_SUPPORTED:\n      (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED\", \"Z\");\n      break;\n  }\n  switch (responseChecksumValidation) {\n    case ResponseChecksumValidation.WHEN_REQUIRED:\n      (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED\", \"c\");\n      break;\n    case ResponseChecksumValidation.WHEN_SUPPORTED:\n      (0, import_core.setFeature)(context, \"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED\", \"b\");\n      break;\n  }\n  if (requestValidationModeMember && !input[requestValidationModeMember]) {\n    if (responseChecksumValidation === ResponseChecksumValidation.WHEN_SUPPORTED) {\n      input[requestValidationModeMember] = \"ENABLED\";\n    }\n  }\n  return next(args);\n}, \"flexibleChecksumsInputMiddleware\");\n\n// src/flexibleChecksumsResponseMiddleware.ts\n\n\n// src/getChecksumAlgorithmListForResponse.ts\nvar getChecksumAlgorithmListForResponse = /* @__PURE__ */ __name((responseAlgorithms = []) => {\n  const validChecksumAlgorithms = [];\n  for (const algorithm of PRIORITY_ORDER_ALGORITHMS) {\n    if (!responseAlgorithms.includes(algorithm) || !CLIENT_SUPPORTED_ALGORITHMS.includes(algorithm)) {\n      continue;\n    }\n    validChecksumAlgorithms.push(algorithm);\n  }\n  return validChecksumAlgorithms;\n}, \"getChecksumAlgorithmListForResponse\");\n\n// src/isChecksumWithPartNumber.ts\nvar isChecksumWithPartNumber = /* @__PURE__ */ __name((checksum) => {\n  const lastHyphenIndex = checksum.lastIndexOf(\"-\");\n  if (lastHyphenIndex !== -1) {\n    const numberPart = checksum.slice(lastHyphenIndex + 1);\n    if (!numberPart.startsWith(\"0\")) {\n      const number = parseInt(numberPart, 10);\n      if (!isNaN(number) && number >= 1 && number <= 1e4) {\n        return true;\n      }\n    }\n  }\n  return false;\n}, \"isChecksumWithPartNumber\");\n\n// src/validateChecksumFromResponse.ts\n\n\n// src/getChecksum.ts\nvar getChecksum = /* @__PURE__ */ __name(async (body, { checksumAlgorithmFn, base64Encoder }) => base64Encoder(await stringHasher(checksumAlgorithmFn, body)), \"getChecksum\");\n\n// src/validateChecksumFromResponse.ts\nvar validateChecksumFromResponse = /* @__PURE__ */ __name(async (response, { config, responseAlgorithms, logger }) => {\n  const checksumAlgorithms = getChecksumAlgorithmListForResponse(responseAlgorithms);\n  const { body: responseBody, headers: responseHeaders } = response;\n  for (const algorithm of checksumAlgorithms) {\n    const responseHeader = getChecksumLocationName(algorithm);\n    const checksumFromResponse = responseHeaders[responseHeader];\n    if (checksumFromResponse) {\n      let checksumAlgorithmFn;\n      try {\n        checksumAlgorithmFn = selectChecksumAlgorithmFunction(algorithm, config);\n      } catch (error) {\n        if (algorithm === \"CRC64NVME\" /* CRC64NVME */) {\n          logger?.warn(`Skipping ${\"CRC64NVME\" /* CRC64NVME */} checksum validation: ${error.message}`);\n          continue;\n        }\n        throw error;\n      }\n      const { base64Encoder } = config;\n      if (isStreaming(responseBody)) {\n        response.body = (0, import_util_stream.createChecksumStream)({\n          expectedChecksum: checksumFromResponse,\n          checksumSourceLocation: responseHeader,\n          checksum: new checksumAlgorithmFn(),\n          source: responseBody,\n          base64Encoder\n        });\n        return;\n      }\n      const checksum = await getChecksum(responseBody, { checksumAlgorithmFn, base64Encoder });\n      if (checksum === checksumFromResponse) {\n        break;\n      }\n      throw new Error(\n        `Checksum mismatch: expected \"${checksum}\" but received \"${checksumFromResponse}\" in response header \"${responseHeader}\".`\n      );\n    }\n  }\n}, \"validateChecksumFromResponse\");\n\n// src/flexibleChecksumsResponseMiddleware.ts\nvar flexibleChecksumsResponseMiddlewareOptions = {\n  name: \"flexibleChecksumsResponseMiddleware\",\n  toMiddleware: \"deserializerMiddleware\",\n  relation: \"after\",\n  tags: [\"BODY_CHECKSUM\"],\n  override: true\n};\nvar flexibleChecksumsResponseMiddleware = /* @__PURE__ */ __name((config, middlewareConfig) => (next, context) => async (args) => {\n  if (!import_protocol_http.HttpRequest.isInstance(args.request)) {\n    return next(args);\n  }\n  const input = args.input;\n  const result = await next(args);\n  const response = result.response;\n  const { requestValidationModeMember, responseAlgorithms } = middlewareConfig;\n  if (requestValidationModeMember && input[requestValidationModeMember] === \"ENABLED\") {\n    const { clientName, commandName } = context;\n    const isS3WholeObjectMultipartGetResponseChecksum = clientName === \"S3Client\" && commandName === \"GetObjectCommand\" && getChecksumAlgorithmListForResponse(responseAlgorithms).every((algorithm) => {\n      const responseHeader = getChecksumLocationName(algorithm);\n      const checksumFromResponse = response.headers[responseHeader];\n      return !checksumFromResponse || isChecksumWithPartNumber(checksumFromResponse);\n    });\n    if (isS3WholeObjectMultipartGetResponseChecksum) {\n      return result;\n    }\n    await validateChecksumFromResponse(response, {\n      config,\n      responseAlgorithms,\n      logger: context.logger\n    });\n  }\n  return result;\n}, \"flexibleChecksumsResponseMiddleware\");\n\n// src/getFlexibleChecksumsPlugin.ts\nvar getFlexibleChecksumsPlugin = /* @__PURE__ */ __name((config, middlewareConfig) => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(flexibleChecksumsMiddleware(config, middlewareConfig), flexibleChecksumsMiddlewareOptions);\n    clientStack.addRelativeTo(\n      flexibleChecksumsInputMiddleware(config, middlewareConfig),\n      flexibleChecksumsInputMiddlewareOptions\n    );\n    clientStack.addRelativeTo(\n      flexibleChecksumsResponseMiddleware(config, middlewareConfig),\n      flexibleChecksumsResponseMiddlewareOptions\n    );\n  }\n}), \"getFlexibleChecksumsPlugin\");\n\n// src/resolveFlexibleChecksumsConfig.ts\nvar import_util_middleware = __webpack_require__(/*! @smithy/util-middleware */ \"(rsc)/./node_modules/.pnpm/@smithy+util-middleware@4.0.1/node_modules/@smithy/util-middleware/dist-es/index.js\");\nvar resolveFlexibleChecksumsConfig = /* @__PURE__ */ __name((input) => ({\n  ...input,\n  requestChecksumCalculation: (0, import_util_middleware.normalizeProvider)(\n    input.requestChecksumCalculation ?? DEFAULT_REQUEST_CHECKSUM_CALCULATION\n  ),\n  responseChecksumValidation: (0, import_util_middleware.normalizeProvider)(\n    input.responseChecksumValidation ?? DEFAULT_RESPONSE_CHECKSUM_VALIDATION\n  ),\n  requestStreamBufferSize: Number(input.requestStreamBufferSize ?? 0)\n}), \"resolveFlexibleChecksumsConfig\");\n// Annotate the CommonJS export names for ESM import in node:\n\n0 && (0);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGF3cy1zZGsrbWlkZGxld2FyZS1mbGV4aWJsZS1jaGVja3N1bXNAMy43NTAuMC9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1mbGV4aWJsZS1jaGVja3N1bXMvZGlzdC1janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDdkY7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0RkFBNEY7QUFDekg7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGtCQUFrQixhQUFhOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9CQUFvQjtBQUMzQztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvQkFBb0I7QUFDM0M7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxNQUFNLEdBQUcsSUFBSSxxQkFBcUIscUJBQXFCLFNBQVMsU0FBUztBQUNoSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQyxtSEFBZTtBQUN6QywyQkFBMkIsbUJBQU8sQ0FBQyx5SUFBdUI7QUFDMUQseUJBQXlCLG1CQUFPLENBQUMsbUlBQXFCOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzRUFBc0UsNkVBQTZFO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0Isa0RBQWtELDRCQUE0QjtBQUNqSTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0Esc0lBQXNJLHdCQUF3Qjs7QUFFOUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsNkJBQTZCLG1CQUFPLENBQUMsK0lBQXlCO0FBQzlEOztBQUVBO0FBQ0Esb0JBQW9CLG1CQUFPLENBQUMscUlBQW9CO0FBQ2hELCtDQUErQyxtQkFBTyxDQUFDLDBOQUF1QztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsaUVBQWlFO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrQkFBa0I7QUFDM0U7QUFDQSxDQUFDOztBQUVEO0FBQ0EsdUJBQXVCLG1CQUFPLENBQUMsNkhBQW1CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQkFBaUI7QUFDM0IsVUFBVSw2QkFBNkI7QUFDdkMsVUFBVSw4QkFBOEI7QUFDeEMsVUFBVSxrREFBa0Q7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlEQUFpRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsNEJBQTRCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUE4QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTtBQUNBLHdEQUF3RCxvQ0FBb0M7O0FBRTVGO0FBQ0EsNkVBQTZFLG9DQUFvQztBQUNqSDtBQUNBLFVBQVUsK0NBQStDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsbUNBQW1DLDZCQUE2Qix1QkFBdUIsY0FBYztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5REFBeUQsb0NBQW9DO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFNBQVMsa0JBQWtCLHFCQUFxQix3QkFBd0IsZUFBZTtBQUMvSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0RBQWtEO0FBQzVEO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsNkJBQTZCLG1CQUFPLENBQUMsK0lBQXlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSxNQUFNLENBbUJMIiwic291cmNlcyI6WyIvVXNlcnMvdG9zaC9Eb2N1bWVudHMvUGxhdGZvcm1JTy9Qcm9qZWN0cy9zdHJhcGk1L25vZGVfbW9kdWxlcy8ucG5wbS9AYXdzLXNkayttaWRkbGV3YXJlLWZsZXhpYmxlLWNoZWNrc3Vtc0AzLjc1MC4wL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLWZsZXhpYmxlLWNoZWNrc3Vtcy9kaXN0LWNqcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIHNyY19leHBvcnRzID0ge307XG5fX2V4cG9ydChzcmNfZXhwb3J0cywge1xuICBDT05GSUdfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTjogKCkgPT4gQ09ORklHX1JFUVVFU1RfQ0hFQ0tTVU1fQ0FMQ1VMQVRJT04sXG4gIENPTkZJR19SRVNQT05TRV9DSEVDS1NVTV9WQUxJREFUSU9OOiAoKSA9PiBDT05GSUdfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTixcbiAgQ2hlY2tzdW1BbGdvcml0aG06ICgpID0+IENoZWNrc3VtQWxnb3JpdGhtLFxuICBDaGVja3N1bUxvY2F0aW9uOiAoKSA9PiBDaGVja3N1bUxvY2F0aW9uLFxuICBERUZBVUxUX0NIRUNLU1VNX0FMR09SSVRITTogKCkgPT4gREVGQVVMVF9DSEVDS1NVTV9BTEdPUklUSE0sXG4gIERFRkFVTFRfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTjogKCkgPT4gREVGQVVMVF9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OLFxuICBERUZBVUxUX1JFU1BPTlNFX0NIRUNLU1VNX1ZBTElEQVRJT046ICgpID0+IERFRkFVTFRfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTixcbiAgRU5WX1JFUVVFU1RfQ0hFQ0tTVU1fQ0FMQ1VMQVRJT046ICgpID0+IEVOVl9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OLFxuICBFTlZfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTjogKCkgPT4gRU5WX1JFU1BPTlNFX0NIRUNLU1VNX1ZBTElEQVRJT04sXG4gIE5PREVfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTl9DT05GSUdfT1BUSU9OUzogKCkgPT4gTk9ERV9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OX0NPTkZJR19PUFRJT05TLFxuICBOT0RFX1JFU1BPTlNFX0NIRUNLU1VNX1ZBTElEQVRJT05fQ09ORklHX09QVElPTlM6ICgpID0+IE5PREVfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTl9DT05GSUdfT1BUSU9OUyxcbiAgUmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb246ICgpID0+IFJlcXVlc3RDaGVja3N1bUNhbGN1bGF0aW9uLFxuICBSZXNwb25zZUNoZWNrc3VtVmFsaWRhdGlvbjogKCkgPT4gUmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24sXG4gIGNyYzY0TnZtZUNydENvbnRhaW5lcjogKCkgPT4gY3JjNjROdm1lQ3J0Q29udGFpbmVyLFxuICBmbGV4aWJsZUNoZWNrc3Vtc01pZGRsZXdhcmU6ICgpID0+IGZsZXhpYmxlQ2hlY2tzdW1zTWlkZGxld2FyZSxcbiAgZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlT3B0aW9uczogKCkgPT4gZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlT3B0aW9ucyxcbiAgZ2V0RmxleGlibGVDaGVja3N1bXNQbHVnaW46ICgpID0+IGdldEZsZXhpYmxlQ2hlY2tzdW1zUGx1Z2luLFxuICByZXNvbHZlRmxleGlibGVDaGVja3N1bXNDb25maWc6ICgpID0+IHJlc29sdmVGbGV4aWJsZUNoZWNrc3Vtc0NvbmZpZ1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fdG9Db21tb25KUyhzcmNfZXhwb3J0cyk7XG5cbi8vIHNyYy9jb25zdGFudHMudHNcbnZhciBSZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbiA9IHtcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBhIGNoZWNrc3VtIHdpbGwgYmUgY2FsY3VsYXRlZCBmb3IgYWxsIHJlcXVlc3QgcGF5bG9hZHMgb2Ygb3BlcmF0aW9uc1xuICAgKiBtb2RlbGVkIHdpdGggdGhlIHtAbGluayBodHRwQ2hlY2tzdW19IHRyYWl0IHdoZXJlIGByZXF1ZXN0Q2hlY2tzdW1SZXF1aXJlZGAgaXMgYHRydWVgXG4gICAqIEFORC9PUiBhIGByZXF1ZXN0QWxnb3JpdGhtTWVtYmVyYCBpcyBtb2RlbGVkLlxuICAgKiB7QGxpbmsgaHR0cHM6Ly9zbWl0aHkuaW8vMi4wL2F3cy9hd3MtY29yZS5odG1sI2F3cy1wcm90b2NvbHMtaHR0cGNoZWNrc3VtLXRyYWl0IGh0dHBDaGVja3N1bX1cbiAgICovXG4gIFdIRU5fU1VQUE9SVEVEOiBcIldIRU5fU1VQUE9SVEVEXCIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgYSBjaGVja3N1bSB3aWxsIG9ubHkgYmUgY2FsY3VsYXRlZCBmb3IgcmVxdWVzdCBwYXlsb2FkcyBvZiBvcGVyYXRpb25zXG4gICAqIG1vZGVsZWQgd2l0aCB0aGUge0BsaW5rIGh0dHBDaGVja3N1bX0gdHJhaXQgd2hlcmUgYHJlcXVlc3RDaGVja3N1bVJlcXVpcmVkYCBpcyBgdHJ1ZWBcbiAgICogT1Igd2hlcmUgYSBgcmVxdWVzdEFsZ29yaXRobU1lbWJlcmAgaXMgbW9kZWxlZCBhbmQgdGhlIHVzZXIgc2V0cyBpdC5cbiAgICoge0BsaW5rIGh0dHBzOi8vc21pdGh5LmlvLzIuMC9hd3MvYXdzLWNvcmUuaHRtbCNhd3MtcHJvdG9jb2xzLWh0dHBjaGVja3N1bS10cmFpdCBodHRwQ2hlY2tzdW19XG4gICAqL1xuICBXSEVOX1JFUVVJUkVEOiBcIldIRU5fUkVRVUlSRURcIlxufTtcbnZhciBERUZBVUxUX1JFUVVFU1RfQ0hFQ0tTVU1fQ0FMQ1VMQVRJT04gPSBSZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbi5XSEVOX1NVUFBPUlRFRDtcbnZhciBSZXNwb25zZUNoZWNrc3VtVmFsaWRhdGlvbiA9IHtcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjaGVja3N1bSB2YWxpZGF0aW9uIE1VU1QgYmUgcGVyZm9ybWVkIG9uIGFsbCByZXNwb25zZSBwYXlsb2FkcyBvZiBvcGVyYXRpb25zXG4gICAqIG1vZGVsZWQgd2l0aCB0aGUge0BsaW5rIGh0dHBDaGVja3N1bX0gdHJhaXQgd2hlcmUgYHJlc3BvbnNlQWxnb3JpdGhtc2AgaXMgbW9kZWxlZCxcbiAgICogZXhjZXB0IHdoZW4gbm8gbW9kZWxlZCBjaGVja3N1bSBhbGdvcml0aG1zIGFyZSBzdXBwb3J0ZWQgYnkgYW4gU0RLLlxuICAgKiB7QGxpbmsgaHR0cHM6Ly9zbWl0aHkuaW8vMi4wL2F3cy9hd3MtY29yZS5odG1sI2F3cy1wcm90b2NvbHMtaHR0cGNoZWNrc3VtLXRyYWl0IGh0dHBDaGVja3N1bX1cbiAgICovXG4gIFdIRU5fU1VQUE9SVEVEOiBcIldIRU5fU1VQUE9SVEVEXCIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2hlY2tzdW0gdmFsaWRhdGlvbiBNVVNUIE5PVCBiZSBwZXJmb3JtZWQgb24gcmVzcG9uc2UgcGF5bG9hZHMgb2Ygb3BlcmF0aW9ucyBVTkxFU1NcbiAgICogdGhlIFNESyBzdXBwb3J0cyB0aGUgbW9kZWxlZCBjaGVja3N1bSBhbGdvcml0aG1zIEFORCB0aGUgdXNlciBoYXMgc2V0IHRoZSBgcmVxdWVzdFZhbGlkYXRpb25Nb2RlTWVtYmVyYCB0byBgRU5BQkxFRGAuXG4gICAqIEl0IGlzIGN1cnJlbnRseSBpbXBvc3NpYmxlIHRvIG1vZGVsIGFuIG9wZXJhdGlvbiBhcyByZXF1aXJpbmcgYSByZXNwb25zZSBjaGVja3N1bSxcbiAgICogYnV0IHRoaXMgc2V0dGluZyBsZWF2ZXMgdGhlIGRvb3Igb3BlbiBmb3IgZnV0dXJlIHVwZGF0ZXMuXG4gICAqL1xuICBXSEVOX1JFUVVJUkVEOiBcIldIRU5fUkVRVUlSRURcIlxufTtcbnZhciBERUZBVUxUX1JFU1BPTlNFX0NIRUNLU1VNX1ZBTElEQVRJT04gPSBSZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbi5XSEVOX1NVUFBPUlRFRDtcbnZhciBDaGVja3N1bUFsZ29yaXRobSA9IC8qIEBfX1BVUkVfXyAqLyAoKENoZWNrc3VtQWxnb3JpdGhtMykgPT4ge1xuICBDaGVja3N1bUFsZ29yaXRobTNbXCJNRDVcIl0gPSBcIk1ENVwiO1xuICBDaGVja3N1bUFsZ29yaXRobTNbXCJDUkMzMlwiXSA9IFwiQ1JDMzJcIjtcbiAgQ2hlY2tzdW1BbGdvcml0aG0zW1wiQ1JDMzJDXCJdID0gXCJDUkMzMkNcIjtcbiAgQ2hlY2tzdW1BbGdvcml0aG0zW1wiQ1JDNjROVk1FXCJdID0gXCJDUkM2NE5WTUVcIjtcbiAgQ2hlY2tzdW1BbGdvcml0aG0zW1wiU0hBMVwiXSA9IFwiU0hBMVwiO1xuICBDaGVja3N1bUFsZ29yaXRobTNbXCJTSEEyNTZcIl0gPSBcIlNIQTI1NlwiO1xuICByZXR1cm4gQ2hlY2tzdW1BbGdvcml0aG0zO1xufSkoQ2hlY2tzdW1BbGdvcml0aG0gfHwge30pO1xudmFyIENoZWNrc3VtTG9jYXRpb24gPSAvKiBAX19QVVJFX18gKi8gKChDaGVja3N1bUxvY2F0aW9uMikgPT4ge1xuICBDaGVja3N1bUxvY2F0aW9uMltcIkhFQURFUlwiXSA9IFwiaGVhZGVyXCI7XG4gIENoZWNrc3VtTG9jYXRpb24yW1wiVFJBSUxFUlwiXSA9IFwidHJhaWxlclwiO1xuICByZXR1cm4gQ2hlY2tzdW1Mb2NhdGlvbjI7XG59KShDaGVja3N1bUxvY2F0aW9uIHx8IHt9KTtcbnZhciBERUZBVUxUX0NIRUNLU1VNX0FMR09SSVRITSA9IFwiQ1JDMzJcIiAvKiBDUkMzMiAqLztcblxuLy8gc3JjL3N0cmluZ1VuaW9uU2VsZWN0b3IudHNcbnZhciBzdHJpbmdVbmlvblNlbGVjdG9yID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgob2JqLCBrZXksIHVuaW9uLCB0eXBlKSA9PiB7XG4gIGlmICghKGtleSBpbiBvYmopKVxuICAgIHJldHVybiB2b2lkIDA7XG4gIGNvbnN0IHZhbHVlID0gb2JqW2tleV0udG9VcHBlckNhc2UoKTtcbiAgaWYgKCFPYmplY3QudmFsdWVzKHVuaW9uKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBDYW5ub3QgbG9hZCAke3R5cGV9ICcke2tleX0nLiBFeHBlY3RlZCBvbmUgb2YgJHtPYmplY3QudmFsdWVzKHVuaW9uKX0sIGdvdCAnJHtvYmpba2V5XX0nLmApO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn0sIFwic3RyaW5nVW5pb25TZWxlY3RvclwiKTtcblxuLy8gc3JjL05PREVfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTl9DT05GSUdfT1BUSU9OUy50c1xudmFyIEVOVl9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OID0gXCJBV1NfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTlwiO1xudmFyIENPTkZJR19SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OID0gXCJyZXF1ZXN0X2NoZWNrc3VtX2NhbGN1bGF0aW9uXCI7XG52YXIgTk9ERV9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OX0NPTkZJR19PUFRJT05TID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHN0cmluZ1VuaW9uU2VsZWN0b3IoZW52LCBFTlZfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTiwgUmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24sIFwiZW52XCIgLyogRU5WICovKSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gc3RyaW5nVW5pb25TZWxlY3Rvcihwcm9maWxlLCBDT05GSUdfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTiwgUmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24sIFwic2hhcmVkIGNvbmZpZyBlbnRyeVwiIC8qIENPTkZJRyAqLyksXG4gIGRlZmF1bHQ6IERFRkFVTFRfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTlxufTtcblxuLy8gc3JjL05PREVfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTl9DT05GSUdfT1BUSU9OUy50c1xudmFyIEVOVl9SRVNQT05TRV9DSEVDS1NVTV9WQUxJREFUSU9OID0gXCJBV1NfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTlwiO1xudmFyIENPTkZJR19SRVNQT05TRV9DSEVDS1NVTV9WQUxJREFUSU9OID0gXCJyZXNwb25zZV9jaGVja3N1bV92YWxpZGF0aW9uXCI7XG52YXIgTk9ERV9SRVNQT05TRV9DSEVDS1NVTV9WQUxJREFUSU9OX0NPTkZJR19PUFRJT05TID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHN0cmluZ1VuaW9uU2VsZWN0b3IoZW52LCBFTlZfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTiwgUmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24sIFwiZW52XCIgLyogRU5WICovKSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gc3RyaW5nVW5pb25TZWxlY3Rvcihwcm9maWxlLCBDT05GSUdfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTiwgUmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24sIFwic2hhcmVkIGNvbmZpZyBlbnRyeVwiIC8qIENPTkZJRyAqLyksXG4gIGRlZmF1bHQ6IERFRkFVTFRfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTlxufTtcblxuLy8gc3JjL2NyYzY0LW52bWUtY3J0LWNvbnRhaW5lci50c1xudmFyIGNyYzY0TnZtZUNydENvbnRhaW5lciA9IHtcbiAgQ3J0Q3JjNjROdm1lOiBudWxsXG59O1xuXG4vLyBzcmMvZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlLnRzXG52YXIgaW1wb3J0X2NvcmUgPSByZXF1aXJlKFwiQGF3cy1zZGsvY29yZVwiKTtcbnZhciBpbXBvcnRfcHJvdG9jb2xfaHR0cCA9IHJlcXVpcmUoXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIik7XG52YXIgaW1wb3J0X3V0aWxfc3RyZWFtID0gcmVxdWlyZShcIkBzbWl0aHkvdXRpbC1zdHJlYW1cIik7XG5cbi8vIHNyYy90eXBlcy50c1xudmFyIENMSUVOVF9TVVBQT1JURURfQUxHT1JJVEhNUyA9IFtcbiAgXCJDUkMzMlwiIC8qIENSQzMyICovLFxuICBcIkNSQzMyQ1wiIC8qIENSQzMyQyAqLyxcbiAgXCJDUkM2NE5WTUVcIiAvKiBDUkM2NE5WTUUgKi8sXG4gIFwiU0hBMVwiIC8qIFNIQTEgKi8sXG4gIFwiU0hBMjU2XCIgLyogU0hBMjU2ICovXG5dO1xudmFyIFBSSU9SSVRZX09SREVSX0FMR09SSVRITVMgPSBbXG4gIFwiU0hBMjU2XCIgLyogU0hBMjU2ICovLFxuICBcIlNIQTFcIiAvKiBTSEExICovLFxuICBcIkNSQzMyXCIgLyogQ1JDMzIgKi8sXG4gIFwiQ1JDMzJDXCIgLyogQ1JDMzJDICovLFxuICBcIkNSQzY0TlZNRVwiIC8qIENSQzY0TlZNRSAqL1xuXTtcblxuLy8gc3JjL2dldENoZWNrc3VtQWxnb3JpdGhtRm9yUmVxdWVzdC50c1xudmFyIGdldENoZWNrc3VtQWxnb3JpdGhtRm9yUmVxdWVzdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlucHV0LCB7IHJlcXVlc3RDaGVja3N1bVJlcXVpcmVkLCByZXF1ZXN0QWxnb3JpdGhtTWVtYmVyLCByZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbiB9KSA9PiB7XG4gIGlmICghcmVxdWVzdEFsZ29yaXRobU1lbWJlcikge1xuICAgIHJldHVybiByZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbiA9PT0gUmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24uV0hFTl9TVVBQT1JURUQgfHwgcmVxdWVzdENoZWNrc3VtUmVxdWlyZWQgPyBERUZBVUxUX0NIRUNLU1VNX0FMR09SSVRITSA6IHZvaWQgMDtcbiAgfVxuICBpZiAoIWlucHV0W3JlcXVlc3RBbGdvcml0aG1NZW1iZXJdKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBjaGVja3N1bUFsZ29yaXRobSA9IGlucHV0W3JlcXVlc3RBbGdvcml0aG1NZW1iZXJdO1xuICBpZiAoIUNMSUVOVF9TVVBQT1JURURfQUxHT1JJVEhNUy5pbmNsdWRlcyhjaGVja3N1bUFsZ29yaXRobSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVGhlIGNoZWNrc3VtIGFsZ29yaXRobSBcIiR7Y2hlY2tzdW1BbGdvcml0aG19XCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY2xpZW50LiBTZWxlY3Qgb25lIG9mICR7Q0xJRU5UX1NVUFBPUlRFRF9BTEdPUklUSE1TfS5gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2hlY2tzdW1BbGdvcml0aG07XG59LCBcImdldENoZWNrc3VtQWxnb3JpdGhtRm9yUmVxdWVzdFwiKTtcblxuLy8gc3JjL2dldENoZWNrc3VtTG9jYXRpb25OYW1lLnRzXG52YXIgZ2V0Q2hlY2tzdW1Mb2NhdGlvbk5hbWUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhbGdvcml0aG0pID0+IGFsZ29yaXRobSA9PT0gXCJNRDVcIiAvKiBNRDUgKi8gPyBcImNvbnRlbnQtbWQ1XCIgOiBgeC1hbXotY2hlY2tzdW0tJHthbGdvcml0aG0udG9Mb3dlckNhc2UoKX1gLCBcImdldENoZWNrc3VtTG9jYXRpb25OYW1lXCIpO1xuXG4vLyBzcmMvaGFzSGVhZGVyLnRzXG52YXIgaGFzSGVhZGVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaGVhZGVyLCBoZWFkZXJzKSA9PiB7XG4gIGNvbnN0IHNvdWdodEhlYWRlciA9IGhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59LCBcImhhc0hlYWRlclwiKTtcblxuLy8gc3JjL2hhc0hlYWRlcldpdGhQcmVmaXgudHNcbnZhciBoYXNIZWFkZXJXaXRoUHJlZml4ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaGVhZGVyUHJlZml4LCBoZWFkZXJzKSA9PiB7XG4gIGNvbnN0IHNvdWdodEhlYWRlclByZWZpeCA9IGhlYWRlclByZWZpeC50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICBpZiAoaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoc291Z2h0SGVhZGVyUHJlZml4KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn0sIFwiaGFzSGVhZGVyV2l0aFByZWZpeFwiKTtcblxuLy8gc3JjL2lzU3RyZWFtaW5nLnRzXG52YXIgaW1wb3J0X2lzX2FycmF5X2J1ZmZlciA9IHJlcXVpcmUoXCJAc21pdGh5L2lzLWFycmF5LWJ1ZmZlclwiKTtcbnZhciBpc1N0cmVhbWluZyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGJvZHkpID0+IGJvZHkgIT09IHZvaWQgMCAmJiB0eXBlb2YgYm9keSAhPT0gXCJzdHJpbmdcIiAmJiAhQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpICYmICEoMCwgaW1wb3J0X2lzX2FycmF5X2J1ZmZlci5pc0FycmF5QnVmZmVyKShib2R5KSwgXCJpc1N0cmVhbWluZ1wiKTtcblxuLy8gc3JjL3NlbGVjdENoZWNrc3VtQWxnb3JpdGhtRnVuY3Rpb24udHNcbnZhciBpbXBvcnRfY3JjMzJjID0gcmVxdWlyZShcIkBhd3MtY3J5cHRvL2NyYzMyY1wiKTtcbnZhciBpbXBvcnRfZ2V0Q3JjMzJDaGVja3N1bUFsZ29yaXRobUZ1bmN0aW9uID0gcmVxdWlyZShcIi4vLi9nZXRDcmMzMkNoZWNrc3VtQWxnb3JpdGhtRnVuY3Rpb25cIik7XG52YXIgc2VsZWN0Q2hlY2tzdW1BbGdvcml0aG1GdW5jdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNoZWNrc3VtQWxnb3JpdGhtLCBjb25maWcpID0+IHtcbiAgc3dpdGNoIChjaGVja3N1bUFsZ29yaXRobSkge1xuICAgIGNhc2UgXCJNRDVcIiAvKiBNRDUgKi86XG4gICAgICByZXR1cm4gY29uZmlnLm1kNTtcbiAgICBjYXNlIFwiQ1JDMzJcIiAvKiBDUkMzMiAqLzpcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2dldENyYzMyQ2hlY2tzdW1BbGdvcml0aG1GdW5jdGlvbi5nZXRDcmMzMkNoZWNrc3VtQWxnb3JpdGhtRnVuY3Rpb24pKCk7XG4gICAgY2FzZSBcIkNSQzMyQ1wiIC8qIENSQzMyQyAqLzpcbiAgICAgIHJldHVybiBpbXBvcnRfY3JjMzJjLkF3c0NyYzMyYztcbiAgICBjYXNlIFwiQ1JDNjROVk1FXCIgLyogQ1JDNjROVk1FICovOlxuICAgICAgaWYgKHR5cGVvZiBjcmM2NE52bWVDcnRDb250YWluZXIuQ3J0Q3JjNjROdm1lICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBQbGVhc2UgY2hlY2sgd2hldGhlciB5b3UgaGF2ZSBpbnN0YWxsZWQgdGhlIFwiQGF3cy1zZGsvY3JjNjQtbnZtZS1jcnRcIiBwYWNrYWdlIGV4cGxpY2l0bHkuIFxuWW91IG11c3QgYWxzbyByZWdpc3RlciB0aGUgcGFja2FnZSBieSBjYWxsaW5nIFtyZXF1aXJlKFwiQGF3cy1zZGsvY3JjNjQtbnZtZS1jcnRcIik7XSBvciBhbiBFU00gZXF1aXZhbGVudCBzdWNoIGFzIFtpbXBvcnQgXCJAYXdzLXNkay9jcmM2NC1udm1lLWNydFwiO10uIFxuRm9yIG1vcmUgaW5mb3JtYXRpb24gcGxlYXNlIGdvIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9hd3MvYXdzLXNkay1qcy12MyNmdW5jdGlvbmFsaXR5LXJlcXVpcmluZy1hd3MtY29tbW9uLXJ1bnRpbWUtY3J0YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyYzY0TnZtZUNydENvbnRhaW5lci5DcnRDcmM2NE52bWU7XG4gICAgY2FzZSBcIlNIQTFcIiAvKiBTSEExICovOlxuICAgICAgcmV0dXJuIGNvbmZpZy5zaGExO1xuICAgIGNhc2UgXCJTSEEyNTZcIiAvKiBTSEEyNTYgKi86XG4gICAgICByZXR1cm4gY29uZmlnLnNoYTI1NjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaGVja3N1bSBhbGdvcml0aG06ICR7Y2hlY2tzdW1BbGdvcml0aG19YCk7XG4gIH1cbn0sIFwic2VsZWN0Q2hlY2tzdW1BbGdvcml0aG1GdW5jdGlvblwiKTtcblxuLy8gc3JjL3N0cmluZ0hhc2hlci50c1xudmFyIGltcG9ydF91dGlsX3V0ZjggPSByZXF1aXJlKFwiQHNtaXRoeS91dGlsLXV0ZjhcIik7XG52YXIgc3RyaW5nSGFzaGVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY2hlY2tzdW1BbGdvcml0aG1GbiwgYm9keSkgPT4ge1xuICBjb25zdCBoYXNoID0gbmV3IGNoZWNrc3VtQWxnb3JpdGhtRm4oKTtcbiAgaGFzaC51cGRhdGUoKDAsIGltcG9ydF91dGlsX3V0ZjgudG9VaW50OEFycmF5KShib2R5IHx8IFwiXCIpKTtcbiAgcmV0dXJuIGhhc2guZGlnZXN0KCk7XG59LCBcInN0cmluZ0hhc2hlclwiKTtcblxuLy8gc3JjL2ZsZXhpYmxlQ2hlY2tzdW1zTWlkZGxld2FyZS50c1xudmFyIGZsZXhpYmxlQ2hlY2tzdW1zTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIG5hbWU6IFwiZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwiYnVpbGRcIixcbiAgdGFnczogW1wiQk9EWV9DSEVDS1NVTVwiXSxcbiAgb3ZlcnJpZGU6IHRydWVcbn07XG52YXIgZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnLCBtaWRkbGV3YXJlQ29uZmlnKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgaWYgKCFpbXBvcnRfcHJvdG9jb2xfaHR0cC5IdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpIHtcbiAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgfVxuICBpZiAoaGFzSGVhZGVyV2l0aFByZWZpeChcIngtYW16LWNoZWNrc3VtLVwiLCBhcmdzLnJlcXVlc3QuaGVhZGVycykpIHtcbiAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgfVxuICBjb25zdCB7IHJlcXVlc3QsIGlucHV0IH0gPSBhcmdzO1xuICBjb25zdCB7IGJvZHk6IHJlcXVlc3RCb2R5LCBoZWFkZXJzIH0gPSByZXF1ZXN0O1xuICBjb25zdCB7IGJhc2U2NEVuY29kZXIsIHN0cmVhbUhhc2hlciB9ID0gY29uZmlnO1xuICBjb25zdCB7IHJlcXVlc3RDaGVja3N1bVJlcXVpcmVkLCByZXF1ZXN0QWxnb3JpdGhtTWVtYmVyIH0gPSBtaWRkbGV3YXJlQ29uZmlnO1xuICBjb25zdCByZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbiA9IGF3YWl0IGNvbmZpZy5yZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbigpO1xuICBjb25zdCByZXF1ZXN0QWxnb3JpdGhtTWVtYmVyTmFtZSA9IHJlcXVlc3RBbGdvcml0aG1NZW1iZXI/Lm5hbWU7XG4gIGNvbnN0IHJlcXVlc3RBbGdvcml0aG1NZW1iZXJIdHRwSGVhZGVyID0gcmVxdWVzdEFsZ29yaXRobU1lbWJlcj8uaHR0cEhlYWRlcjtcbiAgaWYgKHJlcXVlc3RBbGdvcml0aG1NZW1iZXJOYW1lICYmICFpbnB1dFtyZXF1ZXN0QWxnb3JpdGhtTWVtYmVyTmFtZV0pIHtcbiAgICBpZiAocmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24gPT09IFJlcXVlc3RDaGVja3N1bUNhbGN1bGF0aW9uLldIRU5fU1VQUE9SVEVEIHx8IHJlcXVlc3RDaGVja3N1bVJlcXVpcmVkKSB7XG4gICAgICBpbnB1dFtyZXF1ZXN0QWxnb3JpdGhtTWVtYmVyTmFtZV0gPSBERUZBVUxUX0NIRUNLU1VNX0FMR09SSVRITTtcbiAgICAgIGlmIChyZXF1ZXN0QWxnb3JpdGhtTWVtYmVySHR0cEhlYWRlcikge1xuICAgICAgICBoZWFkZXJzW3JlcXVlc3RBbGdvcml0aG1NZW1iZXJIdHRwSGVhZGVyXSA9IERFRkFVTFRfQ0hFQ0tTVU1fQUxHT1JJVEhNO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBjaGVja3N1bUFsZ29yaXRobSA9IGdldENoZWNrc3VtQWxnb3JpdGhtRm9yUmVxdWVzdChpbnB1dCwge1xuICAgIHJlcXVlc3RDaGVja3N1bVJlcXVpcmVkLFxuICAgIHJlcXVlc3RBbGdvcml0aG1NZW1iZXI6IHJlcXVlc3RBbGdvcml0aG1NZW1iZXI/Lm5hbWUsXG4gICAgcmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb25cbiAgfSk7XG4gIGxldCB1cGRhdGVkQm9keSA9IHJlcXVlc3RCb2R5O1xuICBsZXQgdXBkYXRlZEhlYWRlcnMgPSBoZWFkZXJzO1xuICBpZiAoY2hlY2tzdW1BbGdvcml0aG0pIHtcbiAgICBzd2l0Y2ggKGNoZWNrc3VtQWxnb3JpdGhtKSB7XG4gICAgICBjYXNlIFwiQ1JDMzJcIiAvKiBDUkMzMiAqLzpcbiAgICAgICAgKDAsIGltcG9ydF9jb3JlLnNldEZlYXR1cmUpKGNvbnRleHQsIFwiRkxFWElCTEVfQ0hFQ0tTVU1TX1JFUV9DUkMzMlwiLCBcIlVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkNSQzMyQ1wiIC8qIENSQzMyQyAqLzpcbiAgICAgICAgKDAsIGltcG9ydF9jb3JlLnNldEZlYXR1cmUpKGNvbnRleHQsIFwiRkxFWElCTEVfQ0hFQ0tTVU1TX1JFUV9DUkMzMkNcIiwgXCJWXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJDUkM2NE5WTUVcIiAvKiBDUkM2NE5WTUUgKi86XG4gICAgICAgICgwLCBpbXBvcnRfY29yZS5zZXRGZWF0dXJlKShjb250ZXh0LCBcIkZMRVhJQkxFX0NIRUNLU1VNU19SRVFfQ1JDNjRcIiwgXCJXXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTSEExXCIgLyogU0hBMSAqLzpcbiAgICAgICAgKDAsIGltcG9ydF9jb3JlLnNldEZlYXR1cmUpKGNvbnRleHQsIFwiRkxFWElCTEVfQ0hFQ0tTVU1TX1JFUV9TSEExXCIsIFwiWFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU0hBMjU2XCIgLyogU0hBMjU2ICovOlxuICAgICAgICAoMCwgaW1wb3J0X2NvcmUuc2V0RmVhdHVyZSkoY29udGV4dCwgXCJGTEVYSUJMRV9DSEVDS1NVTVNfUkVRX1NIQTI1NlwiLCBcIllcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBjaGVja3N1bUxvY2F0aW9uTmFtZSA9IGdldENoZWNrc3VtTG9jYXRpb25OYW1lKGNoZWNrc3VtQWxnb3JpdGhtKTtcbiAgICBjb25zdCBjaGVja3N1bUFsZ29yaXRobUZuID0gc2VsZWN0Q2hlY2tzdW1BbGdvcml0aG1GdW5jdGlvbihjaGVja3N1bUFsZ29yaXRobSwgY29uZmlnKTtcbiAgICBpZiAoaXNTdHJlYW1pbmcocmVxdWVzdEJvZHkpKSB7XG4gICAgICBjb25zdCB7IGdldEF3c0NodW5rZWRFbmNvZGluZ1N0cmVhbSwgYm9keUxlbmd0aENoZWNrZXIgfSA9IGNvbmZpZztcbiAgICAgIHVwZGF0ZWRCb2R5ID0gZ2V0QXdzQ2h1bmtlZEVuY29kaW5nU3RyZWFtKFxuICAgICAgICB0eXBlb2YgY29uZmlnLnJlcXVlc3RTdHJlYW1CdWZmZXJTaXplID09PSBcIm51bWJlclwiICYmIGNvbmZpZy5yZXF1ZXN0U3RyZWFtQnVmZmVyU2l6ZSA+PSA4ICogMTAyNCA/ICgwLCBpbXBvcnRfdXRpbF9zdHJlYW0uY3JlYXRlQnVmZmVyZWRSZWFkYWJsZSkocmVxdWVzdEJvZHksIGNvbmZpZy5yZXF1ZXN0U3RyZWFtQnVmZmVyU2l6ZSwgY29udGV4dC5sb2dnZXIpIDogcmVxdWVzdEJvZHksXG4gICAgICAgIHtcbiAgICAgICAgICBiYXNlNjRFbmNvZGVyLFxuICAgICAgICAgIGJvZHlMZW5ndGhDaGVja2VyLFxuICAgICAgICAgIGNoZWNrc3VtTG9jYXRpb25OYW1lLFxuICAgICAgICAgIGNoZWNrc3VtQWxnb3JpdGhtRm4sXG4gICAgICAgICAgc3RyZWFtSGFzaGVyXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1cGRhdGVkSGVhZGVycyA9IHtcbiAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgXCJjb250ZW50LWVuY29kaW5nXCI6IGhlYWRlcnNbXCJjb250ZW50LWVuY29kaW5nXCJdID8gYCR7aGVhZGVyc1tcImNvbnRlbnQtZW5jb2RpbmdcIl19LGF3cy1jaHVua2VkYCA6IFwiYXdzLWNodW5rZWRcIixcbiAgICAgICAgXCJ0cmFuc2Zlci1lbmNvZGluZ1wiOiBcImNodW5rZWRcIixcbiAgICAgICAgXCJ4LWFtei1kZWNvZGVkLWNvbnRlbnQtbGVuZ3RoXCI6IGhlYWRlcnNbXCJjb250ZW50LWxlbmd0aFwiXSxcbiAgICAgICAgXCJ4LWFtei1jb250ZW50LXNoYTI1NlwiOiBcIlNUUkVBTUlORy1VTlNJR05FRC1QQVlMT0FELVRSQUlMRVJcIixcbiAgICAgICAgXCJ4LWFtei10cmFpbGVyXCI6IGNoZWNrc3VtTG9jYXRpb25OYW1lXG4gICAgICB9O1xuICAgICAgZGVsZXRlIHVwZGF0ZWRIZWFkZXJzW1wiY29udGVudC1sZW5ndGhcIl07XG4gICAgfSBlbHNlIGlmICghaGFzSGVhZGVyKGNoZWNrc3VtTG9jYXRpb25OYW1lLCBoZWFkZXJzKSkge1xuICAgICAgY29uc3QgcmF3Q2hlY2tzdW0gPSBhd2FpdCBzdHJpbmdIYXNoZXIoY2hlY2tzdW1BbGdvcml0aG1GbiwgcmVxdWVzdEJvZHkpO1xuICAgICAgdXBkYXRlZEhlYWRlcnMgPSB7XG4gICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgIFtjaGVja3N1bUxvY2F0aW9uTmFtZV06IGJhc2U2NEVuY29kZXIocmF3Q2hlY2tzdW0pXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KHtcbiAgICAuLi5hcmdzLFxuICAgIHJlcXVlc3Q6IHtcbiAgICAgIC4uLnJlcXVlc3QsXG4gICAgICBoZWFkZXJzOiB1cGRhdGVkSGVhZGVycyxcbiAgICAgIGJvZHk6IHVwZGF0ZWRCb2R5XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0sIFwiZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlXCIpO1xuXG4vLyBzcmMvZmxleGlibGVDaGVja3N1bXNJbnB1dE1pZGRsZXdhcmUudHNcblxudmFyIGZsZXhpYmxlQ2hlY2tzdW1zSW5wdXRNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJmbGV4aWJsZUNoZWNrc3Vtc0lucHV0TWlkZGxld2FyZVwiLFxuICB0b01pZGRsZXdhcmU6IFwic2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgcmVsYXRpb246IFwiYmVmb3JlXCIsXG4gIHRhZ3M6IFtcIkJPRFlfQ0hFQ0tTVU1cIl0sXG4gIG92ZXJyaWRlOiB0cnVlXG59O1xudmFyIGZsZXhpYmxlQ2hlY2tzdW1zSW5wdXRNaWRkbGV3YXJlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnLCBtaWRkbGV3YXJlQ29uZmlnKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgY29uc3QgaW5wdXQgPSBhcmdzLmlucHV0O1xuICBjb25zdCB7IHJlcXVlc3RWYWxpZGF0aW9uTW9kZU1lbWJlciB9ID0gbWlkZGxld2FyZUNvbmZpZztcbiAgY29uc3QgcmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24gPSBhd2FpdCBjb25maWcucmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24oKTtcbiAgY29uc3QgcmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24gPSBhd2FpdCBjb25maWcucmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24oKTtcbiAgc3dpdGNoIChyZXF1ZXN0Q2hlY2tzdW1DYWxjdWxhdGlvbikge1xuICAgIGNhc2UgUmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24uV0hFTl9SRVFVSVJFRDpcbiAgICAgICgwLCBpbXBvcnRfY29yZS5zZXRGZWF0dXJlKShjb250ZXh0LCBcIkZMRVhJQkxFX0NIRUNLU1VNU19SRVFfV0hFTl9SRVFVSVJFRFwiLCBcImFcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFJlcXVlc3RDaGVja3N1bUNhbGN1bGF0aW9uLldIRU5fU1VQUE9SVEVEOlxuICAgICAgKDAsIGltcG9ydF9jb3JlLnNldEZlYXR1cmUpKGNvbnRleHQsIFwiRkxFWElCTEVfQ0hFQ0tTVU1TX1JFUV9XSEVOX1NVUFBPUlRFRFwiLCBcIlpcIik7XG4gICAgICBicmVhaztcbiAgfVxuICBzd2l0Y2ggKHJlc3BvbnNlQ2hlY2tzdW1WYWxpZGF0aW9uKSB7XG4gICAgY2FzZSBSZXNwb25zZUNoZWNrc3VtVmFsaWRhdGlvbi5XSEVOX1JFUVVJUkVEOlxuICAgICAgKDAsIGltcG9ydF9jb3JlLnNldEZlYXR1cmUpKGNvbnRleHQsIFwiRkxFWElCTEVfQ0hFQ0tTVU1TX1JFU19XSEVOX1JFUVVJUkVEXCIsIFwiY1wiKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgUmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24uV0hFTl9TVVBQT1JURUQ6XG4gICAgICAoMCwgaW1wb3J0X2NvcmUuc2V0RmVhdHVyZSkoY29udGV4dCwgXCJGTEVYSUJMRV9DSEVDS1NVTVNfUkVTX1dIRU5fU1VQUE9SVEVEXCIsIFwiYlwiKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGlmIChyZXF1ZXN0VmFsaWRhdGlvbk1vZGVNZW1iZXIgJiYgIWlucHV0W3JlcXVlc3RWYWxpZGF0aW9uTW9kZU1lbWJlcl0pIHtcbiAgICBpZiAocmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24gPT09IFJlc3BvbnNlQ2hlY2tzdW1WYWxpZGF0aW9uLldIRU5fU1VQUE9SVEVEKSB7XG4gICAgICBpbnB1dFtyZXF1ZXN0VmFsaWRhdGlvbk1vZGVNZW1iZXJdID0gXCJFTkFCTEVEXCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXh0KGFyZ3MpO1xufSwgXCJmbGV4aWJsZUNoZWNrc3Vtc0lucHV0TWlkZGxld2FyZVwiKTtcblxuLy8gc3JjL2ZsZXhpYmxlQ2hlY2tzdW1zUmVzcG9uc2VNaWRkbGV3YXJlLnRzXG5cblxuLy8gc3JjL2dldENoZWNrc3VtQWxnb3JpdGhtTGlzdEZvclJlc3BvbnNlLnRzXG52YXIgZ2V0Q2hlY2tzdW1BbGdvcml0aG1MaXN0Rm9yUmVzcG9uc2UgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZXNwb25zZUFsZ29yaXRobXMgPSBbXSkgPT4ge1xuICBjb25zdCB2YWxpZENoZWNrc3VtQWxnb3JpdGhtcyA9IFtdO1xuICBmb3IgKGNvbnN0IGFsZ29yaXRobSBvZiBQUklPUklUWV9PUkRFUl9BTEdPUklUSE1TKSB7XG4gICAgaWYgKCFyZXNwb25zZUFsZ29yaXRobXMuaW5jbHVkZXMoYWxnb3JpdGhtKSB8fCAhQ0xJRU5UX1NVUFBPUlRFRF9BTEdPUklUSE1TLmluY2x1ZGVzKGFsZ29yaXRobSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YWxpZENoZWNrc3VtQWxnb3JpdGhtcy5wdXNoKGFsZ29yaXRobSk7XG4gIH1cbiAgcmV0dXJuIHZhbGlkQ2hlY2tzdW1BbGdvcml0aG1zO1xufSwgXCJnZXRDaGVja3N1bUFsZ29yaXRobUxpc3RGb3JSZXNwb25zZVwiKTtcblxuLy8gc3JjL2lzQ2hlY2tzdW1XaXRoUGFydE51bWJlci50c1xudmFyIGlzQ2hlY2tzdW1XaXRoUGFydE51bWJlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNoZWNrc3VtKSA9PiB7XG4gIGNvbnN0IGxhc3RIeXBoZW5JbmRleCA9IGNoZWNrc3VtLmxhc3RJbmRleE9mKFwiLVwiKTtcbiAgaWYgKGxhc3RIeXBoZW5JbmRleCAhPT0gLTEpIHtcbiAgICBjb25zdCBudW1iZXJQYXJ0ID0gY2hlY2tzdW0uc2xpY2UobGFzdEh5cGhlbkluZGV4ICsgMSk7XG4gICAgaWYgKCFudW1iZXJQYXJ0LnN0YXJ0c1dpdGgoXCIwXCIpKSB7XG4gICAgICBjb25zdCBudW1iZXIgPSBwYXJzZUludChudW1iZXJQYXJ0LCAxMCk7XG4gICAgICBpZiAoIWlzTmFOKG51bWJlcikgJiYgbnVtYmVyID49IDEgJiYgbnVtYmVyIDw9IDFlNCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSwgXCJpc0NoZWNrc3VtV2l0aFBhcnROdW1iZXJcIik7XG5cbi8vIHNyYy92YWxpZGF0ZUNoZWNrc3VtRnJvbVJlc3BvbnNlLnRzXG5cblxuLy8gc3JjL2dldENoZWNrc3VtLnRzXG52YXIgZ2V0Q2hlY2tzdW0gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChib2R5LCB7IGNoZWNrc3VtQWxnb3JpdGhtRm4sIGJhc2U2NEVuY29kZXIgfSkgPT4gYmFzZTY0RW5jb2Rlcihhd2FpdCBzdHJpbmdIYXNoZXIoY2hlY2tzdW1BbGdvcml0aG1GbiwgYm9keSkpLCBcImdldENoZWNrc3VtXCIpO1xuXG4vLyBzcmMvdmFsaWRhdGVDaGVja3N1bUZyb21SZXNwb25zZS50c1xudmFyIHZhbGlkYXRlQ2hlY2tzdW1Gcm9tUmVzcG9uc2UgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChyZXNwb25zZSwgeyBjb25maWcsIHJlc3BvbnNlQWxnb3JpdGhtcywgbG9nZ2VyIH0pID0+IHtcbiAgY29uc3QgY2hlY2tzdW1BbGdvcml0aG1zID0gZ2V0Q2hlY2tzdW1BbGdvcml0aG1MaXN0Rm9yUmVzcG9uc2UocmVzcG9uc2VBbGdvcml0aG1zKTtcbiAgY29uc3QgeyBib2R5OiByZXNwb25zZUJvZHksIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9ID0gcmVzcG9uc2U7XG4gIGZvciAoY29uc3QgYWxnb3JpdGhtIG9mIGNoZWNrc3VtQWxnb3JpdGhtcykge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVyID0gZ2V0Q2hlY2tzdW1Mb2NhdGlvbk5hbWUoYWxnb3JpdGhtKTtcbiAgICBjb25zdCBjaGVja3N1bUZyb21SZXNwb25zZSA9IHJlc3BvbnNlSGVhZGVyc1tyZXNwb25zZUhlYWRlcl07XG4gICAgaWYgKGNoZWNrc3VtRnJvbVJlc3BvbnNlKSB7XG4gICAgICBsZXQgY2hlY2tzdW1BbGdvcml0aG1GbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNoZWNrc3VtQWxnb3JpdGhtRm4gPSBzZWxlY3RDaGVja3N1bUFsZ29yaXRobUZ1bmN0aW9uKGFsZ29yaXRobSwgY29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChhbGdvcml0aG0gPT09IFwiQ1JDNjROVk1FXCIgLyogQ1JDNjROVk1FICovKSB7XG4gICAgICAgICAgbG9nZ2VyPy53YXJuKGBTa2lwcGluZyAke1wiQ1JDNjROVk1FXCIgLyogQ1JDNjROVk1FICovfSBjaGVja3N1bSB2YWxpZGF0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGJhc2U2NEVuY29kZXIgfSA9IGNvbmZpZztcbiAgICAgIGlmIChpc1N0cmVhbWluZyhyZXNwb25zZUJvZHkpKSB7XG4gICAgICAgIHJlc3BvbnNlLmJvZHkgPSAoMCwgaW1wb3J0X3V0aWxfc3RyZWFtLmNyZWF0ZUNoZWNrc3VtU3RyZWFtKSh7XG4gICAgICAgICAgZXhwZWN0ZWRDaGVja3N1bTogY2hlY2tzdW1Gcm9tUmVzcG9uc2UsXG4gICAgICAgICAgY2hlY2tzdW1Tb3VyY2VMb2NhdGlvbjogcmVzcG9uc2VIZWFkZXIsXG4gICAgICAgICAgY2hlY2tzdW06IG5ldyBjaGVja3N1bUFsZ29yaXRobUZuKCksXG4gICAgICAgICAgc291cmNlOiByZXNwb25zZUJvZHksXG4gICAgICAgICAgYmFzZTY0RW5jb2RlclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hlY2tzdW0gPSBhd2FpdCBnZXRDaGVja3N1bShyZXNwb25zZUJvZHksIHsgY2hlY2tzdW1BbGdvcml0aG1GbiwgYmFzZTY0RW5jb2RlciB9KTtcbiAgICAgIGlmIChjaGVja3N1bSA9PT0gY2hlY2tzdW1Gcm9tUmVzcG9uc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDaGVja3N1bSBtaXNtYXRjaDogZXhwZWN0ZWQgXCIke2NoZWNrc3VtfVwiIGJ1dCByZWNlaXZlZCBcIiR7Y2hlY2tzdW1Gcm9tUmVzcG9uc2V9XCIgaW4gcmVzcG9uc2UgaGVhZGVyIFwiJHtyZXNwb25zZUhlYWRlcn1cIi5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufSwgXCJ2YWxpZGF0ZUNoZWNrc3VtRnJvbVJlc3BvbnNlXCIpO1xuXG4vLyBzcmMvZmxleGlibGVDaGVja3N1bXNSZXNwb25zZU1pZGRsZXdhcmUudHNcbnZhciBmbGV4aWJsZUNoZWNrc3Vtc1Jlc3BvbnNlTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIG5hbWU6IFwiZmxleGlibGVDaGVja3N1bXNSZXNwb25zZU1pZGRsZXdhcmVcIixcbiAgdG9NaWRkbGV3YXJlOiBcImRlc2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgcmVsYXRpb246IFwiYWZ0ZXJcIixcbiAgdGFnczogW1wiQk9EWV9DSEVDS1NVTVwiXSxcbiAgb3ZlcnJpZGU6IHRydWVcbn07XG52YXIgZmxleGlibGVDaGVja3N1bXNSZXNwb25zZU1pZGRsZXdhcmUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb25maWcsIG1pZGRsZXdhcmVDb25maWcpID0+IChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICBpZiAoIWltcG9ydF9wcm90b2NvbF9odHRwLkh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoYXJncy5yZXF1ZXN0KSkge1xuICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICB9XG4gIGNvbnN0IGlucHV0ID0gYXJncy5pbnB1dDtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQucmVzcG9uc2U7XG4gIGNvbnN0IHsgcmVxdWVzdFZhbGlkYXRpb25Nb2RlTWVtYmVyLCByZXNwb25zZUFsZ29yaXRobXMgfSA9IG1pZGRsZXdhcmVDb25maWc7XG4gIGlmIChyZXF1ZXN0VmFsaWRhdGlvbk1vZGVNZW1iZXIgJiYgaW5wdXRbcmVxdWVzdFZhbGlkYXRpb25Nb2RlTWVtYmVyXSA9PT0gXCJFTkFCTEVEXCIpIHtcbiAgICBjb25zdCB7IGNsaWVudE5hbWUsIGNvbW1hbmROYW1lIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IGlzUzNXaG9sZU9iamVjdE11bHRpcGFydEdldFJlc3BvbnNlQ2hlY2tzdW0gPSBjbGllbnROYW1lID09PSBcIlMzQ2xpZW50XCIgJiYgY29tbWFuZE5hbWUgPT09IFwiR2V0T2JqZWN0Q29tbWFuZFwiICYmIGdldENoZWNrc3VtQWxnb3JpdGhtTGlzdEZvclJlc3BvbnNlKHJlc3BvbnNlQWxnb3JpdGhtcykuZXZlcnkoKGFsZ29yaXRobSkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2VIZWFkZXIgPSBnZXRDaGVja3N1bUxvY2F0aW9uTmFtZShhbGdvcml0aG0pO1xuICAgICAgY29uc3QgY2hlY2tzdW1Gcm9tUmVzcG9uc2UgPSByZXNwb25zZS5oZWFkZXJzW3Jlc3BvbnNlSGVhZGVyXTtcbiAgICAgIHJldHVybiAhY2hlY2tzdW1Gcm9tUmVzcG9uc2UgfHwgaXNDaGVja3N1bVdpdGhQYXJ0TnVtYmVyKGNoZWNrc3VtRnJvbVJlc3BvbnNlKTtcbiAgICB9KTtcbiAgICBpZiAoaXNTM1dob2xlT2JqZWN0TXVsdGlwYXJ0R2V0UmVzcG9uc2VDaGVja3N1bSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXdhaXQgdmFsaWRhdGVDaGVja3N1bUZyb21SZXNwb25zZShyZXNwb25zZSwge1xuICAgICAgY29uZmlnLFxuICAgICAgcmVzcG9uc2VBbGdvcml0aG1zLFxuICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlclxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59LCBcImZsZXhpYmxlQ2hlY2tzdW1zUmVzcG9uc2VNaWRkbGV3YXJlXCIpO1xuXG4vLyBzcmMvZ2V0RmxleGlibGVDaGVja3N1bXNQbHVnaW4udHNcbnZhciBnZXRGbGV4aWJsZUNoZWNrc3Vtc1BsdWdpbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNvbmZpZywgbWlkZGxld2FyZUNvbmZpZykgPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoZmxleGlibGVDaGVja3N1bXNNaWRkbGV3YXJlKGNvbmZpZywgbWlkZGxld2FyZUNvbmZpZyksIGZsZXhpYmxlQ2hlY2tzdW1zTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oXG4gICAgICBmbGV4aWJsZUNoZWNrc3Vtc0lucHV0TWlkZGxld2FyZShjb25maWcsIG1pZGRsZXdhcmVDb25maWcpLFxuICAgICAgZmxleGlibGVDaGVja3N1bXNJbnB1dE1pZGRsZXdhcmVPcHRpb25zXG4gICAgKTtcbiAgICBjbGllbnRTdGFjay5hZGRSZWxhdGl2ZVRvKFxuICAgICAgZmxleGlibGVDaGVja3N1bXNSZXNwb25zZU1pZGRsZXdhcmUoY29uZmlnLCBtaWRkbGV3YXJlQ29uZmlnKSxcbiAgICAgIGZsZXhpYmxlQ2hlY2tzdW1zUmVzcG9uc2VNaWRkbGV3YXJlT3B0aW9uc1xuICAgICk7XG4gIH1cbn0pLCBcImdldEZsZXhpYmxlQ2hlY2tzdW1zUGx1Z2luXCIpO1xuXG4vLyBzcmMvcmVzb2x2ZUZsZXhpYmxlQ2hlY2tzdW1zQ29uZmlnLnRzXG52YXIgaW1wb3J0X3V0aWxfbWlkZGxld2FyZSA9IHJlcXVpcmUoXCJAc21pdGh5L3V0aWwtbWlkZGxld2FyZVwiKTtcbnZhciByZXNvbHZlRmxleGlibGVDaGVja3N1bXNDb25maWcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpbnB1dCkgPT4gKHtcbiAgLi4uaW5wdXQsXG4gIHJlcXVlc3RDaGVja3N1bUNhbGN1bGF0aW9uOiAoMCwgaW1wb3J0X3V0aWxfbWlkZGxld2FyZS5ub3JtYWxpemVQcm92aWRlcikoXG4gICAgaW5wdXQucmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24gPz8gREVGQVVMVF9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OXG4gICksXG4gIHJlc3BvbnNlQ2hlY2tzdW1WYWxpZGF0aW9uOiAoMCwgaW1wb3J0X3V0aWxfbWlkZGxld2FyZS5ub3JtYWxpemVQcm92aWRlcikoXG4gICAgaW5wdXQucmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24gPz8gREVGQVVMVF9SRVNQT05TRV9DSEVDS1NVTV9WQUxJREFUSU9OXG4gICksXG4gIHJlcXVlc3RTdHJlYW1CdWZmZXJTaXplOiBOdW1iZXIoaW5wdXQucmVxdWVzdFN0cmVhbUJ1ZmZlclNpemUgPz8gMClcbn0pLCBcInJlc29sdmVGbGV4aWJsZUNoZWNrc3Vtc0NvbmZpZ1wiKTtcbi8vIEFubm90YXRlIHRoZSBDb21tb25KUyBleHBvcnQgbmFtZXMgZm9yIEVTTSBpbXBvcnQgaW4gbm9kZTpcblxuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gIEVOVl9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OLFxuICBDT05GSUdfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTixcbiAgTk9ERV9SRVFVRVNUX0NIRUNLU1VNX0NBTENVTEFUSU9OX0NPTkZJR19PUFRJT05TLFxuICBFTlZfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTixcbiAgQ09ORklHX1JFU1BPTlNFX0NIRUNLU1VNX1ZBTElEQVRJT04sXG4gIE5PREVfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTl9DT05GSUdfT1BUSU9OUyxcbiAgUmVxdWVzdENoZWNrc3VtQ2FsY3VsYXRpb24sXG4gIERFRkFVTFRfUkVRVUVTVF9DSEVDS1NVTV9DQUxDVUxBVElPTixcbiAgUmVzcG9uc2VDaGVja3N1bVZhbGlkYXRpb24sXG4gIERFRkFVTFRfUkVTUE9OU0VfQ0hFQ0tTVU1fVkFMSURBVElPTixcbiAgQ2hlY2tzdW1BbGdvcml0aG0sXG4gIENoZWNrc3VtTG9jYXRpb24sXG4gIERFRkFVTFRfQ0hFQ0tTVU1fQUxHT1JJVEhNLFxuICBjcmM2NE52bWVDcnRDb250YWluZXIsXG4gIGZsZXhpYmxlQ2hlY2tzdW1zTWlkZGxld2FyZU9wdGlvbnMsXG4gIGZsZXhpYmxlQ2hlY2tzdW1zTWlkZGxld2FyZSxcbiAgZ2V0RmxleGlibGVDaGVja3N1bXNQbHVnaW4sXG4gIHJlc29sdmVGbGV4aWJsZUNoZWNrc3Vtc0NvbmZpZ1xufSk7XG5cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@aws-sdk+middleware-flexible-checksums@3.750.0/node_modules/@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\n");

/***/ })

};
;